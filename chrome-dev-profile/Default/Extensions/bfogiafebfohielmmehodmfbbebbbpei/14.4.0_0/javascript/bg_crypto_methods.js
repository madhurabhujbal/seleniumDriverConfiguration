function decryptDataClientKey(e,r,t,n){return new Promise((o,a)=>{if(!n)throw new Error("Encrypted key was null or undefined");Promise.resolve().then(()=>deriveDataClientEncryptionDecryptionKey(e,r,t)).then(e=>{return KeeperAES256GCMdecryptToBytes(n,e)}).then(o).catch(a)})}function deriveDataClientEncryptionDecryptionKey(e,r,t){return new Promise((n,o)=>{if(!r)throw new Error("Salt was null or undefined");if("string"==typeof r&&(r=base64urlsafe_to_bytes(r)),null==e)throw new Error("Password was null or undefined");if(!t)throw new Error("Iterations must be 1 or greater");Promise.resolve().then(()=>KeeperAPI.PBKDF2_SHA512("data_key"+e,r,t)).then(e=>{const r=base64urlsafe_to_bytes(e);return KeeperCryptohmac_sha256_to_bytes("data_key",r)}).then(n).catch(o)})}function base64urlsafe_to_hex(e){var r=base64urlsafe_to_bytes(e);return asmCrypto.bytes_to_hex(r)}function base64urlsafe_to_bytes(e){if(!e)return new Uint8Array;for(var r=e.replace(/_/g,"/").replace(/-/g,"+");r.length%4;)r+="=";return asmCrypto.base64_to_bytes(r)}function KeeperAES256CBCdecryptToHex(e,r){var t=KeeperAES256CBCdecryptToBytes(e,r);return asmCrypto.bytes_to_hex(t)}function KeeperAES256CBCdecryptToBytes(e,r,t){if(e){var n="string"==typeof e?base64urlsafe_to_bytes(e):e,o=n.subarray(0,16),a=n.subarray(16);return asmCrypto.AES_CBC.decrypt(a,r,!t,o)}}function KeeperAES256GCMdecryptToBytes(e,r){if(!e)return"";var t="string"==typeof e?base64urlsafe_to_bytes(e):e,n=t.subarray(0,12),o=t.subarray(12);return asmCrypto.AES_GCM.decrypt(o,r,n)}function KeeperAES256GCMencryptToBytes(e,r){if(!e)return"";var t="string"==typeof e?utf8_to_bytes(e):e;if(!(t instanceof Uint8Array))throw new Error("Unhandled cleartext type");var n=random_96_bit_nonce(),o=asmCrypto.AES_GCM.encrypt(t,r,n),a=new Uint8Array(n.length+o.length);return a.set(n),a.set(o,n.length),a}function bytes_to_utf8(e){return decodeURIComponent(escape(Array.prototype.map.call(e,function(e){return String.fromCharCode(e)}).join("")))}function utf8_to_bytes(e){for(var r=unescape(encodeURIComponent(e)),t=[],n=0;n<r.length;n++)t.push(r.charCodeAt(n));return new Uint8Array(t)}function random_96_bit_nonce(){return random(96)}function random(e){var r=new Uint8Array(e/8);if("undefined"!=typeof crypto&&crypto.getRandomValues)crypto.getRandomValues(r);else{if("undefined"==typeof msCrypto||!msCrypto.getRandomValues)throw"Secure random number generation not found.";msCrypto.getRandomValues(r)}return r}