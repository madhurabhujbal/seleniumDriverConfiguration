function loginConsole(e,a,t,n,o){if(document.querySelector(".adminLoginBox input[name=email]").value=e,document.querySelector(".adminLoginBox input[name=passwd]").value=a,document.querySelector(".adminLoginBox input[name=remember]").checked=o,t){var i,d=!1;try{i=JSON.parse(window.localStorage.getItem("vault_device_tokens"))}catch(e){i={}}i&&"string"==typeof i.data&&(d=!0,i.data=JSON.parse(i.data));var r=i&&i.data&&(null===i.expiry||now.getTime()<=i.expiry)?i.data:{};r[e]||(r[e]=t,d&&(r=JSON.stringify(r)),0===n?window.sessionStorage.setItem("vault_device_tokens",JSON.stringify({expiry:null,data:r})):window.localStorage.setItem("vault_device_tokens",JSON.stringify({expiry:null,data:r})))}document.querySelector(".adminLoginBox .consoleLogin").dispatchEvent(new Event("click"))}addMessageListener(function(e){if("event"===e.action)switch(e.name){case"consoleAutoLogin":loginConsole(e.data.data.login,e.data.data.password,e.data.data.deviceToken,e.data.data.tokenExpiry,e.data.data.rememberEmail)}});