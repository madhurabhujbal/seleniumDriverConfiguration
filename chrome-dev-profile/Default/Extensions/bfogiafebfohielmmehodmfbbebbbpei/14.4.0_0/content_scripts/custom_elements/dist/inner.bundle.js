!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=31)}([function(e,t,r){"use strict";r.r(t),r.d(t,"keeperThemablePopup",function(){return o}),r.d(t,"keeperExtension",function(){return a}),r.d(t,"keeperExtensionSimple",function(){return d}),r.d(t,"keeperExtensionSimpleDisabled",function(){return l}),r.d(t,"keeperExtensionPrompt",function(){return c});var n=r(10),s=r(15);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o={getTheme:function(){return this._theme},setTheme:function(e){this._theme=e,this.className=this.className.split(" ").filter(function(e){return!/keeper-theme-/.test(e)}).join(" "),this.classList.add("keeper-theme-"+e)}},a={getAutoOpened:function(){return this._autoOpened||!1},setAutoOpened:function(e){this._autoOpened=!!e,this.refs.disable&&(this.refs.disable.style.display=e?"":"none")},getAllRecords:function(){return this._allRecords||[]},setAllRecords:function(e){this._allRecords=e},getEditMode:function(){return this._editMode||!1},setEditMode:function(e){var t=this,r=t.querySelector("keeper-record"),n=null;if(!0!==e&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)){var o=e,a=o.registrationRecord,d=o.registrationEditMode;n=a,e=d}function l(n,i){if(t.generated_password_complexity){var o=getURLsFromCustomAndRecord(n||i||{}),a=o.length>0?o:[ourUrl.origin];t.generatedPasswordComplexity=generatePasswordComplexities(t.generated_password_complexity,a)}var d=t.querySelector("keeper-mode-selector"),l=t.querySelector("keeper-content-options"),c=t.querySelector("keeper-extension-no-record");if(e){r&&r.style?r.style.display="none":r=null,d&&d.style?d.style.display="none":d=null,l&&l.style?l.style.display="none":l=null,c&&c.style?c.style.display="none":c=null;var p=createInnerKeeperElement("keeper-record-editor");if(i?(p.mode="record",p.hints={link:i.link,login:i.secret1,password:i.secret2,title:i.title},p.record=i):(p.mode=t.displayMode,p.hints=t.hints,p.record=n),i){var u=[];Array.from(document.getElementsByTagName("keeper-extension-content")[0].children).forEach(function(e){u.push(e)});for(var h=u.length;h>0;h--)document.getElementsByTagName("keeper-extension-content")[0].removeChild(u[h-1])}r&&r.parentNode?r.parentNode.insertBefore(p,r):document.getElementsByTagName("keeper-extension-content")[0].appendChild(p),Object(s.afterAppendKeeperRecordEditor)(p)}else d?d.style.display="":d=null,t.records.length>0?(r?r.style.display="":r=null,l?l.style.display="none":l=null,c?c.style.display="none":c=null):(r?r.style.display="none":r=null,l?l.style.display="":l=null),t&&t.querySelector("keeper-record-editor")?t.querySelector("keeper-record-editor").remove():t=null,getOverlay().registrationRetry&&sendMessage("closeFrame",{type:"ACTION"});var f=setInterval(updateFrameHeight,15);setTimeout(function(){clearInterval(f)},300)}t._editMode=!!e,"object"===i(e)&&(r.record={}),r&&r.record&&(r.record.record_uid||r.record.uid)?sendMessage("getDataById",{type:"GET",data:{id:r.record.record_uid||r.record.uid}},function(e){l(e.payload)}):l(r?r.record:null,n)},setError:function(e){var t=document.createElement("keeper-error");t.appendChild(document.createTextNode(e)),this.insertBefore(t,this.querySelector("keeper-extension-content"))},getDisplayMode:function(){return this.querySelector("keeper-mode-selector").mode},setDisplayMode:function(e){getOverlay&&getOverlay();var t=this.querySelector("keeper-content-options > keeper-div > keeper-div"),r=this.querySelector("keeper-favicon"),n=this.querySelector("keeper-extension-content"),s=this.querySelector("keeper-extension-no-record");switch("card"!==e&&"address"!==e&&(e="record"),this.querySelector("keeper-mode-selector").mode=e,e){case"record":t.textContent=translateThis("CreateNew"),r.style.display="",n.style.marginTop="",s.style.display="",s.style.marginTop="",s.style.marginBottom="10px";break;case"card":t.textContent=translateThis("add_payment_card"),r.style.display="none",n.style.marginTop="10px",s.style.display="none";break;case"address":t.textContent=translateThis("add_address"),r.style.display="none",n.style.marginTop="10px",s.style.display="none"}this.onDataUpdated()},swapButtons:function(){var e=getFrameDocument(),t=this.displayMode,r=this.records.length>0,n=e.getElementById("pull-information-button"),s=e.getElementById("populate-button"),i=e.getElementById("keeper-create-new-entry");if(t&&n&&s&&i)if(r||"record"==t)s.style.display="none",n.style.display="none",i.style.display="flex";else switch(s.style.display="block",n.style.display="block",i.style.display="none",t){case"card":s.textContent=translateThis("pull_payment_cards"),n.textContent=translateThis("show_payment_cards");break;case"address":s.textContent=translateThis("pull_addresses"),n.textContent=translateThis("show_addresses")}},getGroup:function(){return this._group||null},setGroup:function(e){this._group=e},getCollection:function(){return this[this.displayMode+(/s$/.test(this.displayMode)?"es":"s")]||[]},setCollection:function(e){throw new Error('The property "collection" is read only')},getRecords:function(){return this._records||[]},setRecords:function(e){this._records=e,this.onDataUpdated()},getCards:function(){return this._cards||[]},setCards:function(e){this._cards=e,this.onDataUpdated()},getAddresses:function(){return this._addresses||[]},setAddresses:function(e){this._addresses=e,this.onDataUpdated()},onDataUpdated:function(){if(!this.editMode){var e=this.collection,t=this.querySelector("keeper-record"),r=this.querySelector("keeper-content-options"),n=this.querySelector("keeper-extension-no-record"),s=!t.record||e!==t.records;e.length?(t.records=e,t.style.display="",r.style.display="none",n.style.display="none",s&&(t.record=e[0])):(t.style.display="none",r.style.display=""),this.swapButtons(),updateFrameHeight()}},finalClickHandler:function(e){document.querySelector("keeper-list");var t=document.querySelector("keeper-iconbutton-more");t&&t.opened&&(t.opened=!1),safariAPI&&!window.supportsCrossOriginExtensionFrames&&haltPropagation(e)},getRestrictDomainCreate:function(){return this._restrictDomainCreate||!1},setRestrictDomainCreate:function(e){this._restrictDomainCreate=e},getRestrictCreateIdentityPaymentRecords:function(){return this._restrictCreateIdentityPaymentRecords||!1},setRestrictCreateIdentityPaymentRecords:function(e){this._restrictCreateIdentityPaymentRecords=e},getMaskCustomFields:function(){return this._maskCustomFields||!1},setMaskCustomFields:function(e){this._maskCustomFields=e},getMaskNotes:function(){return this._maskNotes||!1},setMaskNotes:function(e){this._maskNotes=e},getReferrer:function(){return this._referrer||null},setReferrer:function(e){this._referrer=e},getFaviconUrl:function(){return this._faviconUrl||""},setFaviconUrl:function(e){this._faviconUrl=e}},d={getMessage:function(){return this.refs.blurb.textContent},setMessage:function(e){this.refs.blurb.textContent=e},getError:function(){return this.refs.blurb.textContent},setError:function(e){this.refs.disable&&this.refs.disable.remove(),this.refs.blurb.textContent=e,Object.assign(this.style,{width:"500px",height:"300px",whiteSpace:"pre"}),Object.assign(this.refs.content.style,{height:"calc(100% - 44px)"}),Object.assign(this.refs.blurb.style,{overflow:"scroll",userSelect:"text"}),this.refs.blurb.addEventListener("click",function(e){window.getSelection().selectAllChildren(this)})}},l={getHeader:function(){return this.refs.header.textContent},setHeader:function(e){this.refs.header.textContent=e},getMessage:function(){return this.refs.blurb.textContent},setMessage:function(e){this.refs.blurb.textContent=e},getError:function(){return this.refs.blurb.textContent},setError:function(e){this.refs.disable&&this.refs.disable.remove(),this.refs.blurb.textContent=e,Object.assign(this.style,{width:"500px",height:"300px",whiteSpace:"pre"}),Object.assign(this.refs.content.style,{height:"calc(100% - 44px)"}),Object.assign(this.refs.blurb.style,{overflow:"scroll",userSelect:"text"}),this.refs.blurb.addEventListener("click",function(e){window.getSelection().selectAllChildren(this)})}},c={getSettingNameToToggle:function(){return this._settingNameToToggle},setSettingNameToToggle:function(e){this._settingNameToToggle=e},getBGListener:function(){throw new Error('Cannot get "bgListener"... use as a synonym for onResponse.')},setBGListener:function(e){var t=this;if("function"!=typeof e)throw new Error("bgListener must be a function!");this.onResponse=function(r){e({shouldDisable:!!t.refs.disable&&t.refs.disable.checked,target:{id:r.target.id},record:t.refs.recordSelector.record})}},getCloseOnConfirm:function(){return void 0===this._closeOnConfirm||this._closeOnConfirm},setCloseOnConfirm:function(e){this._closeOnConfirm=!!e},getShowDisable:function(){return this._showDisable||!0},setShowDisable:function(e){this._showDisable=!!e,this.refs.disable&&(this.refs.disable.style.display=e?"":"none")},getMessage:function(){return this._message||"NO MESSAGE!"},setMessage:function(e){this.refs.text.textContent=this._message=e},getOnResponse:function(){return this._onResponse||null},setOnResponse:function(e){this._onResponse=e;for(var t=0,r=[this.refs.decline,this.refs.confirm];t<r.length;t++){var n=r[t];e?(n.style.display="",n.onclick=e.bind(this)):n.style.display="none"}},showSaveOptions:function(e,t){this.refs.content.textContent="";for(var r=0,s=["text","decline","confirm","remember","disable"];r<s.length;r++){var i=s[r];delete this.refs[i]}var o=this.refs.content.appendChild(createAndAssign("keeper-div",{className:"inputs"})),a=createAndAssign("keeper-input",{placeholder:translateThis("title_header"),value:e});this.refs.title=o.appendChild(a),Object(n.afterAppendKeeperInput)(a);var d=this.refs.content.appendChild(createAndAssign("keeper-div",{className:"buttons"}));this.refs.cancel=d.appendChild(createAndAssign("keeper-button",{textContent:translateThis("Cancel"),plainStyle:!0,onclick:function(){sendMessage("clearPromptableLoginData",{type:"SET"}),sendMessage("closeFrame",{type:"ACTION"})}}));var l=this.refs.save=d.appendChild(createAndAssign("keeper-button",{textContent:translateThis("Save"),onclick:function(){l.onclick=function(){},sendMessage("clearPromptableLoginData",{type:"SET"}),t()}}));updateFrameHeight()},showSavedRecord:function(e){for(var t=0,r=["title","cancel","save"];t<r.length;t++){var n=r[t];delete this.refs[n]}for(var s=this.refs.content,i=s.querySelectorAll("keeper-div"),o=0;o<i.length;o++)s.removeChild(i[o]);this._message=translateThis("view_record_in_vault"),this.refs.text=s.appendChild(createAndAssign("keeper-div",{textContent:this._message,style:{alignSelf:"start",marginTop:"12px"}}));var a=s.appendChild(createAndAssign("keeper-div",{className:"buttons"}));this.refs.cancel=a.appendChild(createAndAssign("keeper-button",{textContent:translateThis("no_thanks"),plainStyle:!0,onclick:function(){sendMessage("closeFrame",{type:"ACTION"})}})),this.refs.save=a.appendChild(createAndAssign("keeper-button",{textContent:translateThis("Yes"),onclick:function(){sendMessage("closeFrame",{type:"ACTION"}),sendMessage("openRecordInNewTab",{type:"ACTION",data:e})}})),this.refs.content.appendChild(document.createElement("keeper-div")),updateFrameHeight()},showEditScreen:function(){var e=this;sendMessage("enforcements",{type:"GET"},function(t){e._mode="oldPasswordView",e.refs.content.textContent="";for(var r=0,n=["confirm","decline","disable","text"];r<n.length;r++){var i=n[r];delete e.refs[i]}var o=e.refs.record=createAndAssign("keeper-record",{records:e.records,record:e.refs.recordSelector.record,className:"minimal"});e.refs.content.appendChild(o),e.refs.record.refs.basicFields.style.display="none",t&&t.generated_password_complexity&&(e.passwordComplexity=generatePasswordComplexities(t.generated_password_complexity,getURLsFromCustomAndRecord(o.record)));var a=e.querySelector("keeper-password-options").options;a.length||(a.length=20),void 0===a.caps&&(a.caps=!e.passwordComplexity||e.passwordComplexity.uc>0),void 0===a.digits&&(a.digits=!e.passwordComplexity||e.passwordComplexity.numbers>0),void 0===a.symbols&&(a.symbols=!e.passwordComplexity||e.passwordComplexity.special>0),o.record.secret2=e.passwordComplexity?enforcePasswordComplexity(e.passwordComplexity,a):generateKeeperPassword(a.length,a.caps,a.digits,a.symbols);var d=e.refs.passwordEditor=createAndAssign("keeper-record-editor",{mode:"changePassword",record:e.refs.recordSelector.record,style:{padding:"4px 0px 0px 0px",fontSize:"12px"}});e.refs.content.appendChild(d),Object(s.afterAppendKeeperRecordEditor)(d),e.refs.text=e.refs.content.appendChild(createAndAssign("keeper-div",{style:{alignSelf:"start"}})),e.refs.gif=e.refs.content.appendChild(createAndAssign("keeper-gif",{style:{}}));var l=e.refs.buttons=e.refs.content.appendChild(createAndAssign("keeper-div",{className:"buttons",style:{justifyContent:"flex-end"}}));e.refs.cancel=l.appendChild(createAndAssign("keeper-button",{plainStyle:!0})),e.refs.continue=l.appendChild(createInnerKeeperElement("keeper-button")),e.oldPasswordView(),sendMessage("changePasswordReposition",{type:"ACTION"})})},oldPasswordView:function(){var e=this;this._mode="oldPasswordView";var t=this,r=function(e){e.refs.record.lastChild.style.paddingTop="10px",e.refs.record.style.display="",e.refs.passwordEditor.style.display="none",e.message=translateThis("old_password_view"),e.refs.cancel.textContent=translateThis("Cancel"),e.refs.continue.textContent=translateThis("Next"),updateFrameHeight()},n=t.refs.passwordEditor.querySelector("keeper-iconbutton-dice");"newPasswordView"===this._previousMode?fadeOut([this.refs.text,this.refs.gif,n],"500ms ease-in-out",function(){r(t),fadeIn([t.refs.text,t.refs.gif],"500ms ease-in")}):r(t),this.refs.cancel.onclick=function(){sendMessage("restoreLocks",{type:"ACTION"}),sendMessage("closeFrame",{type:"ACTION"})},this.refs.continue.onclick=function(){e._previousMode="oldPasswordView",e.newPasswordView()};var s=this.refs.record.refs.password.querySelector("keeper-password").value;sendMessage("updateLocksPayload",{type:"ACTION",data:{payload:s,type:"oldPassword"}})},getNewPasswordFieldsFilled:function(){return this._newPasswordFieldsFilled||0},setNewPasswordFieldsFilled:function(e){"number"==typeof e&&(this._newPasswordFieldsFilled=e)},newPasswordView:function(){this._mode="newPasswordView";var e=this,t=function(e){e.refs.record.style.display="none",e.refs.passwordEditor.style.display="",e.message=translateThis("new_password_view"),e.refs.gif.style.display="",e.refs.cancel.textContent=translateThis("Back"),e.refs.continue.textContent=translateThis("Next"),updateFrameHeight()},r=e.refs.passwordEditor.querySelector("keeper-iconbutton-dice");"oldPasswordView"===this._previousMode?fadeOut([e.refs.text,e.refs.gif],"500ms ease-in-out",function(){r.style.opacity="0",t(e),fadeIn([e.refs.text,e.refs.gif,r],"500ms ease-in")}):t(e),this.refs.cancel.onclick=function(){e._previousMode="newPasswordView",e.oldPasswordView()},this.refs.continue.onclick=function(){e.newPasswordFieldsFilled>0?(e._previousMode="newPasswordView",e.savePasswordView()):overlayAlert(translateThis("new_password_alert"),e,{style:{padding:"17px 0px",marginTop:"20px",height:"auto",textAlign:"center"}})},updateFrameHeight();var n=this.refs.passwordEditor.querySelector("keeper-password").value;sendMessage("updateLocksPayload",{type:"ACTION",data:{payload:n,type:"newPassword"}}),sendMessage("toggleListenerForChangePasswordSubmission",{type:"ACTION",data:!0})},savePasswordView:function(){var e=this,t=this;this._mode="savePasswordView",this.refs.record.firstChild.style.display="none";var r=this.refs.record.lastChild;r.style.marginTop="0px",r.style.borderTop="none",r.style.paddingTop="0px",this.refs.record.refs.password.querySelector("keeper-password").showPassword&&(this.refs.record.refs.password.querySelector("keeper-password").showPassword=!1);var n=this.refs.passwordEditor.querySelector("keeper-password").value,s=this.refs.newPassword=createAndAssign("keeper-record-field-password",{dataKey:"secret2",password:n,label:translateThis("new_password")});this.refs.record.appendChild(s),this.refs.record.style.display="",this.refs.passwordEditor.style.display="none",this.refs.text.style.marginTop="12px",this.message=translateThis("save_password_view2"),this.refs.gif.style.display="none",this.refs.cancel.textContent=translateThis("Back"),this.refs.cancel.onclick=function(){t.refs.record.lastChild.remove(),t.refs.passwordEditor.style.display="",t.refs.text.style.marginTop="",t._previousMode="savePasswordView",t.newPasswordView()},this.refs.continue.textContent=translateThis("Save"),this.refs.continue.onclick=function(){e._previousMode="savePasswordView",e.uploadRecord(function(t){e.passwordChangedView()})},updateFrameHeight(),sendMessage("disableLocks",{type:"ACTION"})},passwordChangedView:function(){this.refs.record.style.display="none",this.message=translateThis("change_password_complete","The password has been changed in your vault.  Please submit the change on the website."),this.refs.text.style.marginTop="",this.refs.text.style.marginBottom="20px",this.refs.cancel.onclick=function(){},this.refs.continue.onclick=function(){},this.refs.buttons.style.display="none",updateFrameHeight()},checkChangePasswordSuccessView:function(){var e=this;this.refs.record&&this.refs.record.record&&(this.refs.record.style.display="none"),this.refs.passwordEditor&&(this.refs.passwordEditor.style.display="none"),this.message=translateThis("was_change_successful","Was this change successful?"),this.refs.text.style.marginBottom="12px",this.refs.gif&&(this.refs.gif.style.display="none"),this.refs.cancel.textContent="".concat(translateThis("No")," - ").concat(translateThis("revert_change","Revert Change")),this.refs.cancel.onclick=function(){var t=e.refs.record.record_uid||e.refs.record.record.record_uid;sendMessage("revertRecord",{type:"SET",data:{record_uid:t}},function(e){sendMessage("restoreLocks",{type:"ACTION"}),sendMessage("closeFrame",{type:"ACTION"})})},this.refs.continue.textContent=translateThis("Yes"),this.refs.continue.onclick=function(){sendMessage("changePasswordPending",{type:"SET",data:null},function(e){sendMessage("restoreLocks",{type:"ACTION"}),sendMessage("closeFrame",{type:"ACTION"})})},this.refs.buttons.style.flexDirection="column-reverse",this.refs.continue.style.alignSelf="center",this.refs.continue.style.marginBottom="6px",this.refs.cancel.style.textDecoration="underline",this.refs.continue.style.marginRight="10px",this.refs.buttons.style.display="",sendMessage("toggleListenerForChangePasswordSubmission",{type:"ACTION",data:!1}),updateFrameHeight()},uploadRecord:function(e){var t=this.refs.record.record,r=this.refs.passwordEditor.querySelector("keeper-password").value;t.secret2=r,sendMessage("addRecord",{type:"SET",data:t},function(r){sendMessage("changePasswordPending",{type:"SET",data:{record_uid:t.record_uid,link:t.link}}),e(r)})},getRecords:function(){return this._records||[]},setRecords:function(e){this._records=e,this.refs.recordSelector.records=e,this.refs.recordSelector.record=e[0]},save:function(e){var t;sendMessage("add"+((t=e.type)[0].toUpperCase()+t.slice(1)),{type:"SET",data:e.record},function(t){!function(e,t){var r=getOverlay(),n=getOverlayPrompt();if(e&&"success"===e.result)if(r)if("record"===t){var s=e.update_records?e.update_records[0]:e.add_records[0];switch(s.status){case"success":r.dispatchEvent(new CustomEvent("fill",{detail:e[t]}));break;case"access_denied":r.error=translateThis("access_denied");break;default:r.error=translateThis("unexpected_error_with_code").replace("XXX",s.status)}}else r.dispatchEvent(new CustomEvent("fill",{detail:e[t]}));else n&&"record"===t&&(n.records=[e.record]);else r&&e&&(r.error=e.message||e.result_code)}(t,e.type),t.record.displayMode="record",getOverlay().fill(t.record)})},fill:function(e){var t=e.displayMode;e.payload&&(e=e.payload),sendMessage("frameFill",{type:"SET",data:{displayMode:t,payload:e}},function(){sendMessage("closeFrame",{type:"ACTION"})})}}},function(e,t,r){"use strict";r.r(t),r.d(t,"keeperRecord",function(){return o}),r.d(t,"keeperRecordEditor",function(){return a}),r.d(t,"keeperRecordField",function(){return d}),r.d(t,"keeperRecordFieldTOTP",function(){return l}),r.d(t,"keeperRecordFieldExtra",function(){return c}),r.d(t,"keeperRecordFieldCard",function(){return p}),r.d(t,"keeperRecordFieldCVV",function(){return u}),r.d(t,"keeperRecordFieldAddress",function(){return h}),r.d(t,"keeperRecordFieldLogin",function(){return f}),r.d(t,"keeperRecordFieldPassword",function(){return g}),r.d(t,"keeperRecordSimple",function(){return m}),r.d(t,"keeperRecordSelector",function(){return y}),r.d(t,"keeperRecordChooser",function(){return k});var n=r(15),s=r(5);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o={getRecords:function(){return this._records||[]},setRecords:function(e){this._records=e},getShowAll:function(){return this._showAll},setShowAll:function(e){this._showAll=e,this.refs.otherFields.style.display=e?"":"none"},restore:function(){this.record=this._previousRecord},getRecord:function(){return this._record},setRecord:function(e){var t=this;if(this._previousRecord=this._record,this._record=e,this.textContent="",e){var r=getOverlay()||this.parentNode.parentNode,i=enforcePrivacyScreen(r.generated_password_complexity,e),o=this.refs.basicFields=document.createElement("keeper-div"),a=this.refs.otherFields=createInnerKeeperElement("keeper-record-fields"),d=this.refs.chooser=createAndAssign("keeper-record-chooser",{records:this.records});d.onclick=function(e){e.stopPropagation(),!1!==e.isTrusted&&this.records.length>1&&this.trigger()};var l=function(e){return d.onclick(e)};if(d.onchange=function(e){t.record=e.target.selectedItem,t.record.record_uid||t.record.uid||(r.editMode=!0,sendMessage("toggleHeaderButtons",{type:"ACTION",data:!0})),updateFrameHeight()},o.appendChild(d),Object(n.afterAppendKeeperRecordChooser)(d),!r.displayMode){(p=this.refs.login=createAndAssign("keeper-record-field-login",{dataKey:"secret1",record:e,count:this.records.length})).onclick=l,o.appendChild(p),this.appendChild(o);var c=this.refs.password=createAndAssign("keeper-record-field-password",{dataKey:"secret2",label:"Current Password",password:e.secret2||"",restricted:!e.owner&&!1===e.can_view,privacyScreenEnabled:i,style:{border:"none",marginTop:"0px",marginBottom:"10px",display:"newPasswordView"===r._mode||"oldPasswordView"===r._mode||"confirmPasswordView"===r._mode?"":"none"}});return this.appendChild(c),void Object(s.afterAppendKeeperIconButtonEyeball)(p.refs.eyeball,r)}if("record"===r.displayMode){var p;(p=this.refs.login=createAndAssign("keeper-record-field-login",{dataKey:"secret1",record:e,count:this.records.length})).onclick=l,o.appendChild(p);var u=!1;i||(u=!e.owner&&!1===e.can_view),c=this.refs.password=createAndAssign("keeper-record-field-password",{dataKey:"secret2",password:e.secret2||"",restricted:u,privacyScreenEnabled:i}),a.appendChild(c);var h=this.refs.link=createAndAssign("keeper-record-field",{dataKey:"link",label:translateThis("Login_Link"),field:function(e){try{var t=new URL(e),r=t.protocol,n=t.host,s=t.pathname,i=t.search}catch(t){return e}return r+="//",/[!@#$%^&*(),?":{}|<>]/i.test(n)&&(n=unescape(n)),[r,n.replace(/^www\./,""),s,i].slice(1,2).join("")}(e.link)||"",showToggle:!1});a.appendChild(h);var f=this.refs.fields=[];(e.extra&&e.extra.fields||[]).forEach(function(t){var r=createAndAssign("keeper-record-field-totp",{dataKey:t.field_type,label:translateThis("two_factor_code")||"",field:"".replace(/./g,"•"),type:t.type,unmasked:"",showToggle:e.can_view});f.push(r),a.appendChild(r);var n=generateTotpParams(t.data);r.refreshToken(n),r.spinner.startTimer(0,n.period,function(){r.refreshToken(n)})});var g=r.maskCustomFields,m=r.maskNotes;(this.refs.customs=(e.custom||[]).map(function(t){return/password/i.test(t.name)?createAndAssign("keeper-record-field-extra",{dataKey:t.name||"",label:t.name||"",field:(t.value||"").replace(/./g,"•"),unmasked:t.value||"",showToggle:e.can_view}):createAndAssign("keeper-record-field-extra",{dataKey:t.name||"",label:t.name||"",field:g?(t.value||"").replace(/./g,"•"):t.value||"",unmasked:t.value||"",showToggle:g&&e.can_view})})).forEach(a.appendChild.bind(a));var y=this.refs.notes=createAndAssign("keeper-record-field-extra",{label:translateThis("notes_header"),field:m?(e.notes||"").replace(/./g,"•"):e.notes,unmasked:e.notes||"",showToggle:m&&e.can_view,showFillButton:!1});a.appendChild(y),Object(s.afterAppendKeeperIconButtonEyeball)(p.refs.eyeball,r)}if("card"===r.displayMode){var k=this.refs.number=createAndAssign("keeper-record-field-card",{card:e,count:this.records.length});k.onclick=l,o.appendChild(k);var v=this.refs.expiration=createAndAssign("keeper-record-field",{label:translateThis("exp"),field:makeDisplayExpirationDate(e.expiration||""),showToggle:!1}),b=this.refs.verification=createAndAssign("keeper-record-field-cvv",{card:e}),w=this.refs.name=createAndAssign("keeper-record-field",{label:translateThis("name_on_card"),field:e.name_on_card||"",showToggle:!1});a.appendChild(v),a.appendChild(b),a.appendChild(w)}if("address"===r.displayMode){var C=e.street_address?e.street_address.join(" ").trim():" ",x=this.refs.street=createAndAssign("keeper-record-field-address",{label:e.title||translateThis("billing_address"),field:C||"---",count:this.records.length});x.onclick=l,o.appendChild(x),w=this.refs.name=createAndAssign("keeper-record-field",{label:translateThis("full_name"),field:(e.first_name||"").trim()+" "+(e.last_name||"").trim(),showToggle:!1});var E=this.refs.email=createAndAssign("keeper-record-field",{label:translateThis("Email"),field:e.email||" ",showToggle:!1}),P=this.refs.phone=createAndAssign("keeper-record-field",{label:translateThis("contact.phonenumber"),field:e.phone&&e.phone.phone_number?e.phone.country_code+" "+e.phone.phone_number:" ",showToggle:!1}),_=this.refs.city=createAndAssign("keeper-record-field",{label:translateThis("buy.city"),field:e.city||" ",showToggle:!1}),S=this.refs.state=createAndAssign("keeper-record-field",{label:translateThis("state_province"),field:e.state||" ",showToggle:!1}),T=this.refs.zip=createAndAssign("keeper-record-field",{label:translateThis("zip_postal_code"),field:e.zip||" ",showToggle:!1}),O=this.refs.country=createAndAssign("keeper-record-field",{label:translateThis("buy.country.title"),field:e.country||" ",showToggle:!1});a.appendChild(w),a.appendChild(E),a.appendChild(P),a.appendChild(_),a.appendChild(S),a.appendChild(T),a.appendChild(O)}this.appendChild(o),this.appendChild(a);var A=createAndAssign("keeper-show-more",{opened:!1});A.onclick=function(e){!1!==e.isTrusted&&(t.showAll=A.opened=!A.opened,updateFrameHeight())},this.showAll=!1,this.appendChild(A);var I=r.querySelector("keeper-iconbutton-edit");I&&(I.disabled=!e.can_edit)}}},a={save:function(){var e=this.refs.title.value,t=Object.assign({},this.record),r=getOverlay(),n=!1;if("record"===this.mode){if(!(this.refs.title.value&&this.refs.username.value&&this.refs.password.value&&this.refs.link.value)&&(n=!0,this.refs.title.value||c(translateThis("Title_required"),this.childNodes[0],this.childNodes[1]),this.refs.username.value||c(translateThis("enter_a_username"),this.childNodes[1],this.childNodes[2]),this.refs.password.value||c(translateThis("enter_a_password"),this.childNodes[2],this.childNodes[3],!0),this.refs.link.value||c(translateThis("setup_record_url"),this.childNodes[3],this.childNodes[4]),n))return;t.oldPassword=t.secret2,t.newPassword=this.refs.password.value,t.title=e||"",t.secret1=this.refs.username.value||"",(!t.record_uid||t.owner||t.can_view)&&(t.secret2=this.refs.password.value||""),t.link=this.refs.link.value||"",t.notes=this.refs.notes.value||"","object"!==i(t.extra)&&(t.extra={}),"object"!==i(t.custom)&&(t.custom=[]);var s=t.secret2.match(/[a-z]/g),o=t.secret2.match(/[A-Z]/g),a=t.secret2.match(/[0-9]/g),d=t.secret2.match(/[!@#$%^&*(),.?":{}|<>]/g);if(!(r&&!r.generatedPasswordComplexity||t.secret2.length>=r.generatedPasswordComplexity.ruleLength&&(s?s.length:0)>=r.generatedPasswordComplexity.lc&&(o?o.length:0)>=r.generatedPasswordComplexity.uc&&(a?a.length:0)>=r.generatedPasswordComplexity.numbers&&(d?d.length:0)>=r.generatedPasswordComplexity.special))return void overlayAlert(translateThis("domain_specific_password_title")+"\n•  "+translateThis("rule_size_min").replace("XXX",r.generatedPasswordComplexity.ruleLength)+"\n•  "+translateThis("rule_contains").replace("XXX",r.generatedPasswordComplexity.special).replace("YYY","!@#$%")+"\n•  "+translateThis("rule_contains_range_digit").replace("XXX",r.generatedPasswordComplexity.numbers)+"\n•  "+translateThis("rule_contains_range_uppercase").replace("XXX",r.generatedPasswordComplexity.uc)+"\n•  "+translateThis("rule_contains_range_lowercase").replace("XXX",r.generatedPasswordComplexity.lc),document.querySelector("keeper-extension"),null,!0)}if("card"===this.mode){if(!(this.refs.title.value&&this.refs.number.value&&this.refs.expiration.value&&this.refs.verification.value&&this.refs.name.value)&&(n=!0,this.refs.title.value||c(translateThis("Title_required"),this.childNodes[0],this.childNodes[1]),this.refs.number.value||c(translateThis("cardnumber_required"),this.childNodes[1],this.childNodes[2]),this.refs.expiration.value||c(translateThis("enter_exp_date"),this.childNodes[2],this.childNodes[3]),this.refs.verification.value||c(translateThis("enter_cvv_number"),this.childNodes[3],this.childNodes[4]),this.refs.name.value||c(translateThis("enter_name_on_card"),this.childNodes[4]),n))return;t.title=e||"",t.ccn=this.refs.number.value||"",t.expiration=this.refs.expiration.value||"",t.ccv=this.refs.verification.value||"",t.name_on_card=this.refs.name.value||""}if("address"===this.mode){t.phone||(t.phone={}),t.phone.country_code=this.refs.phone.refs.country.value.replace(/\D/g,""),t.phone.phone_number=this.refs.phone.refs.number.value.replace(/\D/g,""),t.title=e||"",t.first_name=this.refs.firstName.value||"",t.last_name=this.refs.lastName.value||"",t.email=this.refs.email.value||"",t.city=this.refs.city.value||"",t.state=this.refs.state.value||"",t.zip=this.refs.zip.value||"",t.country=this.refs.country.value||"";var l=t.street_address=[];if(this.refs.street1.value&&(l[0]=this.refs.street1.value||""),this.refs.street2.value&&(l[1]=this.refs.street2.value||""),!(this.refs.title.value&&this.refs.firstName.value&&this.refs.lastName.value&&this.refs.email.value&&t.phone.phone_number&&this.refs.street1.value&&this.refs.city.value&&this.refs.country.value)&&(n=!0,this.refs.title.value||c(translateThis("Title_required"),this.childNodes[0],this.childNodes[1]),this.refs.firstName.value||c(translateThis("enter_first_name"),this.childNodes[1],this.childNodes[2]),this.refs.lastName.value||c(translateThis("enter_last_name"),this.childNodes[2],this.childNodes[3]),this.refs.email.value||c(translateThis("enter_email"),this.childNodes[3],this.childNodes[4]),t.phone.phone_number||c(translateThis("enter_valid_phone"),this.childNodes[4],this.childNodes[5]),this.refs.street1.value||c(translateThis("enter_street_address"),this.childNodes[5],this.childNodes[6]),this.refs.city.value||c(translateThis("enter_city"),this.childNodes[7],this.childNodes[8]),this.refs.country.value||c(translateThis("enter_country"),this.childNodes[10]),n))return}function c(e,t,r,n){if(!t.querySelector("keeper-tooltip")){var s=function(){t.removeAttribute("keeper-tooltip-error"),r&&!n?r.removeAttribute("style"):n&&t.querySelector("keeper-password-options").removeAttribute("style"),updateFrameHeight()};n?t.querySelector("keeper-password-strength").setAttribute("keeper-tooltip-error",e):t.setAttribute("keeper-tooltip-error",e),r&&!n?r.setAttribute("style","margin-top:30px;"):n&&t.querySelector("keeper-password-options").setAttribute("style","padding-top:30px;"),"KEEPER-PHONE-SELECT"===t.nodeName?t.querySelectorAll("keeper-input")[1].addEventListener("input",s):t.querySelector("keeper-input").addEventListener("input",s),updateFrameHeight()}}r.save({record:t,type:this.mode})},getRecord:function(){return this._record||{}},setRecord:function(e){var t=this,r=getOverlay();if(e||(e={}),this._record=e,"changePassword"===this.mode&&(this.refs.newPassword.value=e.secret2||""),"record"===this.mode)if(this.refs.title.value=e.title||"",this.refs.username.value=e.secret1||"",this.refs.password.value=e.secret2||"",this.refs.link.value=e.link||"",this.refs.notes.value=e.notes||"",r&&r.generatedPasswordComplexity&&r.generatedPasswordComplexity.privacyScreen){var n=this.querySelector("keeper-password-label");n.privacyScreenEnabled=!0,n.style.marginRight="0px"}else if(!e.owner&&!1===e.can_view){var s=this.querySelector("keeper-password-label");s.readOnly=!0,s.restricted=!0,s.value="••••••••"}if("card"===this.mode){this.refs.title.value=e.title||"",this.refs.expiration.value=makeDisplayExpirationDate(e.expiration||""),this.refs.expiration.children[1].addEventListener("input",function(e){if(/[0-9]/.test(e.target.value)){var t=i(e.target.value,e.inputType);this.value=t}this.value=this.value.replace(/[^0-9///]/g,""),function(e){if(e.focus(),window.getSelection&&document.createRange){var t=function(e){var t=document.createRange();return t.selectNodeContents(e),t.collapse(!1),t}(e),r=window.getSelection();r.removeAllRanges(),r.addRange(t)}else document.body.createTextRange&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select())}(this)});var i=function(e,t){if(e.length>5&&(e=e.slice(0,5)),1===e.length)parseInt(e,10)>1&&(e="0"+e+"/");else if(2===e.length)parseInt(e,10)>12?e="0"+e[0]+"/"+e[1]:"deleteContentBackward"!=t&&(e+="/");else if(3===e.length)"/"!==e[1]&&"/"!==e[2]&&(e=e.slice(0,2)+"/"+e[2]);else if(5===e.length&&"/"===e[2]){var r=e.slice(3);e=e.slice(0,2)+"/"+r}return e};this.refs.name.value=e.name_on_card||"",sendMessage("secureCardInfo",{type:"GET",data:{uid:this.record.uid,key:["ccn","ccv"]}},function(r){Object.assign(e,r),t.refs.number.value=e.ccn||"",t.refs.verification.value=e.ccv||""})}"address"===this.mode&&(this.refs.title.value=e.title||"",this.refs.street1.value=(e.street_address||[])[0]||"",this.refs.street2.value=(e.street_address||[])[1]||"",this.refs.firstName.value=e.first_name||"",this.refs.lastName.value=e.last_name||"",this.refs.email.value=e.email||"",this.refs.phone.model=e.phone||{},this.refs.city.value=e.city||"",this.refs.state.value=e.state||"",this.refs.zip.value=e.zip||"",this.refs.country.value=e.country||"")},sanitize:function(){var e=this.record;e.ccn&&(e.ccn="••••"+e.ccn.substr(-4)),e.ccv&&(e.ccv="masked")},getMode:function(){return this._mode},setMode:function(e){var t=this,r=getOverlay();this._mode=e,this.innerText="",this.spellcheck=!1,"changePassword"===this.mode&&(this.refs.newPassword=this.appendChild(createAndAssign("keeper-password-label",{label:translateThis("new_password"),onchange:function(){"newPasswordView"!==getOverlay()._mode&&"confirmPasswordView"!==getOverlay()._mode||sendMessage("updateLocksPayload",{type:"ACTION",data:{payload:this.value,type:"newPassword"}})}}))),"record"===this.mode&&(this.refs.title=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("title_header"),onchange:this.makeChangeHandler("title")})),this.refs.username=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("secret1_header"),onchange:this.makeChangeHandler("secret1")})),this.refs.password=this.appendChild(createAndAssign("keeper-password-label",{label:translateThis("secret2_header"),onchange:this.makeChangeHandler("secret2")})),this.refs.link=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("Login_Link"),onchange:this.makeChangeHandler("link")})),this.refs.notes=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("notes_header"),onchange:this.makeChangeHandler("notes")})),r&&r.generatedPasswordComplexity&&r.generatedPasswordComplexity.privacyScreen&&(this.refs.password.querySelector("keeper-input").contentEditable=!1,this.refs.link.querySelector("keeper-input").contentEditable=!1)),"card"===this.mode&&(this.refs.title=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("title_header"),onchange:this.makeChangeHandler("title")})),this.refs.number=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("card_number"),onchange:this.makeChangeHandler("ccn")})),this.refs.expiration=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("exp")+" (mm/yy)",onchange:this.makeChangeHandler("expiration")})),this.refs.verification=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("cvv"),onchange:this.makeChangeHandler("ccv")})),this.refs.name=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("name_on_card"),onchange:this.makeChangeHandler("name_on_card")}))),"address"===this.mode&&(this.refs.title=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("title_address_title_placeholder"),onchange:this.makeChangeHandler("title")})),this.refs.firstName=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("contact.firstname"),onchange:this.makeChangeHandler("first_name")})),this.refs.lastName=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("contact.lastname"),onchange:this.makeChangeHandler("last_name")})),this.refs.email=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("Email"),onchange:this.makeChangeHandler("email")})),this.refs.phone=this.appendChild(createAndAssign("keeper-phone-select",{onchange:function(e){var r=e.target,n=t.refs.phone.model,s=r.value.replace(/\D/g,""),i=r===t.refs.phone.refs.country?n.country_code:n.phone_number;t.changed=s!==i}})),this.refs.street1=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("street_address_one"),onchange:this.makeChangeHandler("street1")})),this.refs.street2=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("street_address_two"),onchange:this.makeChangeHandler("street2")})),this.refs.city=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("buy.city"),onchange:this.makeChangeHandler("city")})),this.refs.state=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("state_province"),onchange:this.makeChangeHandler("state")})),this.refs.zip=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("zip_postal_code"),onchange:this.makeChangeHandler("zip")})),this.refs.country=this.appendChild(createAndAssign("keeper-input-label",{label:translateThis("buy.country.title"),onchange:this.makeChangeHandler("country")})))},makeChangeHandler:function(e){var t=this;return function(r){var n;n="street1"===e?(t.record.street_address||[])[0]:"street2"===e?(t.record.street_address||[])[1]:t.record[e],""===this.value&&void 0===n||(t.changed=this.value!==n)}}},d={getDataKey:function(){return this._dataKey||""},setDataKey:function(e){this._dataKey=e},getField:function(){return this._field||""},setField:function(e){this._field=e,e instanceof HTMLElement?(this.refs.field.textContent="",this.refs.field.appendChild(e)):(this.refs.field.title=e,this.refs.field.textContent=e,this.style.display=""!==e?"":"none")},getLabel:function(){return this._label||translateThis("notes_header")},setLabel:function(e){this._label=e,this.refs.label.textContent=e},getCount:function(){return this._count||0},setCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._count=e,this.label=e>1?this.label+" (".concat(e,")"):this.label.replace(/ \(\n+\)$/,"")},getShowToggle:function(){return this._showToggle||!0},setShowToggle:function(e){this._showToggle=e,this.refs.eyeball.style.display=e?"":"none"},getShowFillButton:function(){return this._showFillButton||!0},setShowFillButton:function(e){this._showFillButton=e,this.refs.fillButton.style.display=e?"":"none"},doToggle:function(e){e.stopPropagation(),!1!==e.isTrusted&&(this.refs.eyeball.mode="hidden"===this.refs.eyeball.mode?"visible":"hidden")},doFill:function(e){e.stopPropagation(),!1!==e.isTrusted&&getOverlay().fillField(this.dataKey,this.field,!0)}},l={getUnmasked:function(){return this._unmasked},setUnmasked:function(e){this._unmasked=e,this.style.display="","hidden"!==this.refs.eyeball.mode?this.field=this.formatToken(this._unmasked,!0):this.field=this.formatToken(this._unmasked.replace(" ","").replace(/./g,"•"))},refreshToken:function(e){var t=this;sendMessage("newTotpToken",{type:"GET",params:e},function(e){t.unmasked=e})},formatToken:function(e,t){if(!e||0===e.length)return e;e=e.split("");var r=Math.ceil(e.length/2);return t&&e.splice(r,0," "),e.join("")},doToggle:function(e){var t=getOverlay(),r=this,n=e;function s(){"hidden"===r.refs.eyeball.mode?r.field=r.formatToken(r.unmasked,!0):r.field=r.formatToken(r.field.replace(" ","").replace(/./g,"•")),n.stopPropagation(),!1!==n.isTrusted&&(r.refs.eyeball.mode="hidden"===r.refs.eyeball.mode?"visible":"hidden")}sendMessage("masterPasswordReEntry",{type:"GET",data:{fromIframe:!0,closeWindow:!1,action:"reveal"}},function(e){e||"visible"===r.refs.eyeball.mode?s():(overlayAlert(null,t,null,null,!0),t.MPReentry=function(){s()})})},doFill:function(e){if(e.stopPropagation(),!1!==e.isTrusted){var t=this,r=getOverlay();sendMessage("masterPasswordReEntry",{type:"GET",data:{fromIframe:!0,closeWindow:!1,action:"reveal"}},function(e){e?n():(overlayAlert(null,r,null,null,!0),r.MPReentry=function(){n()})})}function n(){getOverlay().fillField(t.dataKey,t.unmasked,!0)}}},c={getUnmasked:function(){return this._unmasked},setUnmasked:function(e){this._unmasked=e},doToggle:function(e){var t=getOverlay(),r=this,n=e;function s(){"hidden"===r.refs.eyeball.mode?r.field=r.unmasked:r.field=r.field.replace(/./g,"•"),n.stopPropagation(),!1!==n.isTrusted&&(r.refs.eyeball.mode="hidden"===r.refs.eyeball.mode?"visible":"hidden")}sendMessage("masterPasswordReEntry",{type:"GET",data:{fromIframe:!0,closeWindow:!1,action:"reveal"}},function(e){e||"visible"===r.refs.eyeball.mode?s():(overlayAlert(null,t,null,null,!0),t.MPReentry=function(){s()})})},doFill:function(e){if(e.stopPropagation(),!1!==e.isTrusted){var t=getOverlay(),r=this;sendMessage("masterPasswordReEntry",{type:"GET",data:{fromIframe:!0,closeWindow:!1,action:"reveal"}},function(e){e?n():(overlayAlert(null,t,null,null,!0),t.MPReentry=function(){n()})})}function n(){getOverlay().fillField(r.dataKey,r.unmasked,!0)}}},p={getCard:function(){return this._card||{}},setCard:function(e){this._card=e,this.label=e.title||translateThis("payment_card"),this.refs.icon.className=e.type,this.renderNumber()},renderNumber:function(e){e||(e=this.card.ccn||""),e.length<=4?this.field="••••"+e:this.field=e||"---"},doToggle:function(e){e.stopPropagation();var t=getOverlay(),r=this,n=e;function s(){"hidden"===r.refs.eyeball.mode?sendMessage("secureCardInfo",{type:"GET",data:{uid:r.card.uid,key:"ccn"}},function(e){r.renderNumber(e.ccn)}):r.renderNumber(),n.stopPropagation(),!1!==n.isTrusted&&(r.refs.eyeball.mode="hidden"===r.refs.eyeball.mode?"visible":"hidden")}sendMessage("masterPasswordReEntry",{type:"GET",data:{fromIframe:!0,closeWindow:!1,action:"reveal"}},function(e){e||"visible"===r.refs.eyeball.mode?s():(overlayAlert(null,t,null,null,!0),t.MPReentry=function(){s()})})},doFill:function(e){var t=this;if(e.stopPropagation(),!1!==e.isTrusted){var r=getOverlay();sendMessage("masterPasswordReEntry",{type:"GET",data:{fromIframe:!0,closeWindow:!1,action:"reveal"}},function(e){e?n():(overlayAlert(null,r,null,null,!0),r.MPReentry=function(){n()})})}function n(){sendMessage("secureCardInfo",{type:"GET",data:{uid:t.card.uid,key:["ccn","ccv"]}},function(e){getOverlay().querySelector("keeper-record").showAll?getOverlay().fillField(t.dataKey,e.ccn):getOverlay().fill(Object.assign({},t.card,e))})}}},u={getCard:function(){return this._card},setCard:function(e){this._card=e,this.renderNumber()},renderNumber:function(e){e||(e=this.card.ccv),this.field="masked"===e?"•••":e||""},doToggle:function(e){var t=getOverlay(),r=this,n=e;function s(){"hidden"===r.refs.eyeball.mode?sendMessage("secureCardInfo",{type:"GET",data:{uid:r.card.uid,key:"ccv"}},function(e){r.renderNumber(e.ccv)}):r.renderNumber(),n.stopPropagation(),!1!==n.isTrusted&&(r.refs.eyeball.mode="hidden"===r.refs.eyeball.mode?"visible":"hidden")}sendMessage("masterPasswordReEntry",{type:"GET",data:{fromIframe:!0,closeWindow:!1,action:"reveal"}},function(e){e||"visible"===r.refs.eyeball.mode?s():(overlayAlert(null,t,null,null,!0),t.MPReentry=function(){s()})})},doFill:function(e){var t=this;if(e.stopPropagation(),!1!==e.isTrusted){var r=getOverlay();sendMessage("masterPasswordReEntry",{type:"GET",data:{fromIframe:!0,closeWindow:!1,action:"reveal"}},function(e){e?n():(overlayAlert(null,r,null,null,!0),r.MPReentry=function(){n()})})}function n(){sendMessage("secureCardInfo",{type:"GET",data:{uid:t.card.uid,key:"ccv"}},function(e){getOverlay().fillField(t.dataKey,e.ccv)})}}},h={doFill:function(e){if(e.stopPropagation(),!1!==e.isTrusted){var t=getOverlay().querySelector("keeper-record"),r=t.showAll,n=t.record;r?getOverlay().fillField(this.dataKey,this.field):getOverlay().fill(n)}}},f={getRecord:function(){return this._record},setRecord:function(e){this._record=e,e&&(this.label=e.title||"",this.field=e.secret1||"---")},doFill:function(e){e.stopPropagation(),!1!==e.isTrusted&&(getOverlay().querySelector("keeper-record").showAll?getOverlay().fillField(this.dataKey,this.record.secret1):getOverlay().fill(this.record,!0))}},g={getPassword:function(){return this._password||""},setPassword:function(e){this._password=e,this.querySelector("keeper-password").value=e},getRestricted:function(){return this._restricted||!1},setRestricted:function(e){this._restricted=e,this.querySelector("keeper-password").restricted=e},getPrivacyScreenEnabled:function(){return this._privacyScreenEnabled||!1},setPrivacyScreenEnabled:function(e){if(this._privacyScreenEnabled=e,e){var t=this.querySelector("keeper-password");t.style.marginRight="40px",t.privacyScreenEnabled=e}},doFill:function(e){if(e.stopPropagation(),!1!==e.isTrusted){var t=getOverlay(),r=this,n=e.currentTarget;sendMessage("masterPasswordReEntry",{type:"GET",data:{fromIframe:!0,closeWindow:!1,action:"reveal"}},function(e){e?s():(overlayAlert(null,t,null,null,!0),t.MPReentry=function(){s()})})}function s(){n.disabled||getOverlay().fillField(r.dataKey,r.password)}}},m={setRecord:function(e){this.querySelector("keeper-div:first-child").textContent=e.title,this.querySelector("keeper-div:last-child").textContent=e.secret1}},y={getRecords:function(){return this.querySelector("keeper-record-chooser").records},setRecords:function(e){this.querySelector("keeper-record-chooser").records=e,this.querySelector("keeper-record-simple").record=e[0]},getSelectedItem:function(){return this.querySelector("keeper-record-chooser").selectedItem}},k={getRecords:function(){return this._records||[]},setRecords:function(e){this._records=e;var t=e.length>1;this.style.width=t?"":"6px",this.refs.toggle.style.display=t?"":"none"},getSelectedItem:function(){return this._selectedItem||this.records[0]},setSelectedItem:function(e){this._selectedItem=e},trigger:function(){var e=this,t=createInnerKeeperElement("keeper-list");t.items=this.records,t.style.zIndex=this.style.zIndex+1,t.onchange=function(){e.selectedItem=t.selectedItem,t.remove()},this.appendChild(t),sendMessage("closeRecordListEventListener",{type:"SET"}),window.addEventListener("click",function e(t){window.removeEventListener("click",e);var r=document.querySelector("keeper-dropdown-toggle"),n=document.querySelector("keeper-record-chooser keeper-list");if(r&&n){if(n.getBoundingClientRect(),n.items.length>3){if(t.clientX>259&&t.clientX<274&&t.clientY>155&&t.clientY<460)return;r.opened=!1,n.remove()}else r.opened=!1,n.remove();updateFrameHeight()}});var r=t.getBoundingClientRect().height;updateFrameHeight(r)}}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){var t="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,r){return(a()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var s=new(Function.bind.apply(e,n));return r&&d(s,r.prototype),s}).apply(null,arguments)}(e,arguments,l(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)})(e)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.r(t),r.d(t,"KeeperIconButton",function(){return c}),r.d(t,"afterAppendKeeperIconButton",function(){return p});var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(p,e);var t,r,n,o,c=(t=p,r=a(),function(){var e,n=l(t);if(r){var s=l(this).constructor;e=Reflect.construct(n,arguments,s)}else e=n.apply(this,arguments);return i(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=e=c.call.apply(c,[this].concat(r));return i(e,s)}return n=p,(o=[{key:"connectedCallback",value:function(){this.style.cursor=this.disabled?"not-allowed":"pointer",this.style.height="24px",this.style.width="24px",this.style.position="relative"}}])&&s(n.prototype,o),p}(o(HTMLElement));function p(e){e.style.cursor=e.disabled?"not-allowed":"pointer",e.style.height="24px",e.style.width="24px",e.style.position="relative"}},function(e,t,r){"use strict";function n(e,t){return generateKeeperPassword(Math.max(e.ruleLength,t.length),e.uc>0,e.numbers>0,e.special>0,e.uc,e.numbers,e.special,e.lc)}r.r(t),r.d(t,"enforcePasswordComplexity",function(){return n}),r.d(t,"keeperPassword",function(){return s}),r.d(t,"keeperPasswordLabel",function(){return i}),r.d(t,"keeperPasswordOptions",function(){return o}),r.d(t,"keeperPasswordStrength",function(){return a});var s={generate:function(e){var t=getOverlay(),r=this,s=this.querySelector("keeper-input"),i=this.querySelector("keeper-password-options").options;if(void 0===i.caps&&(i.caps=!t||!t.generatedPasswordComplexity||t.generatedPasswordComplexity.uc>0),void 0===i.digits&&(i.digits=!t||!t.generatedPasswordComplexity||t.generatedPasswordComplexity.numbers>0),void 0===i.symbols&&(i.symbols=!t||!t.generatedPasswordComplexity||t.generatedPasswordComplexity.special>0),e)r.value=t&&t.generatedPasswordComplexity?n(t.generatedPasswordComplexity,i):generateKeeperPassword(i.length,i.caps,i.digits,i.symbols),updateFrameHeight(),setTimeout(updateFrameHeight,300);else{this.querySelector("keeper-iconbutton-dice").classList.add("keeper-spin3");var o=setInterval(function(){r.value=t&&t.generatedPasswordComplexity?n(t.generatedPasswordComplexity,i):generateKeeperPassword(i.length,i.caps,i.digits,i.symbols),updateFrameHeight(),s.style.color="#999"},150);setTimeout(function(){clearTimeout(o),setTimeout(updateFrameHeight,300),s.style.color=""},900)}},getPlaceholder:function(){return this.querySelector("keeper-input").placeholder},setPlaceholder:function(e){this.querySelector("keeper-input").placeholder=e},getReadOnly:function(){return this._readOnly},setReadOnly:function(e){this._readOnly=e,this.querySelector("keeper-input").readOnly=e,this.querySelector("keeper-iconbutton-dice").style.display=e?"none":"block"},getRestricted:function(){return this._restricted||!1},setRestricted:function(e){this._restricted=e,this.querySelector("keeper-iconbutton-eyeball").style.display=e?"none":"block",this.querySelector("keeper-password-strength").style.display=e?"none":"",this.querySelector("keeper-password-restriction").style.display=e?"block":""},getPrivacyScreenEnabled:function(){return this.privacyScreenEnabled||!1},setPrivacyScreenEnabled:function(e){this._privacyScreenEnabled=e,this.querySelector("keeper-iconbutton-eyeball").style.display=e?"none":"block",this.querySelector("keeper-password-strength").style.display=e?"none":"",this.querySelector("keeper-password-privacy-screen").style.display=e?"flex":""},getShowPassword:function(){return this._showPassword},setShowPassword:function(e){var t=getOverlay(),r=this;function n(){e=!r.restricted&&e,r._showPassword=e;var n=r.querySelector("keeper-input");e?n.children&&n.children.length>0?(n.children[0].type="text",n.children[0].value=r.value):(n.value=r.value,n.style.mozUserSelect="text",n.style.webkitUserSelect="text"):n.children&&n.children.length>0?(n.children[0].type="password",n.children[0].value=r.value):(n.value=r.value?"••••••••••":"",n.style.mozUserSelect="none",n.style.webkitUserSelect="none"),t.generatedPasswordComplexity&&t.generatedPasswordComplexity.privacyScreen?(n.contentEditable=!1,n.style.webkitUserSelect="none",n.style.mozUserSelect="none"):(t.editMode||"newPasswordView"===t._mode)&&(n.contentEditable=!!e),r.querySelector("keeper-iconbutton-eyeball").mode=e?"visible":"hidden";var s=setInterval(updateFrameHeight,15);setTimeout(function(){clearInterval(s)},300)}!1===e||t.editMode?n():sendMessage("masterPasswordReEntry",{type:"GET",data:{fromIframe:!0,closeWindow:!1,action:"reveal"}},function(r){r||!e?n():(overlayAlert(null,t,null,null,!0),t.MPReentry=function(){n()})})},getValue:function(){return this._value},setValue:function(e){this._value=e;var t=this.querySelector("keeper-input");this.showPassword?t.value=e:t.value=e?"••••••••••":"",this.querySelector("keeper-password-strength").score=checkPassword(e).score.total,this.dispatchEvent(new Event("change"))}},i={getLabel:function(){return this._label||""},setLabel:function(e){this._label=e,this.querySelector("keeper-div").textContent=e},getValue:function(){return this.querySelector("keeper-password").value},setValue:function(e){this.querySelector("keeper-password").value=e},getRestricted:function(){return this.querySelector("keeper-password").restricted},setRestricted:function(e){this.querySelector("keeper-password").restricted=e},getPrivacyScreenEnabled:function(){return this._privacyScreenEnabled},setPrivacyScreenEnabled:function(e){this.querySelector("keeper-password").privacyScreenEnabled=e},getReadOnly:function(){return this.querySelector("keeper-password").readOnly},setReadOnly:function(e){this.querySelector("keeper-password").readOnly=e}},o={getOptions:function(){return{length:this.querySelector("keeper-slider").value,caps:this.querySelector("keeper-checkbox-set:first-child").checked,digits:this.querySelector("keeper-checkbox-set:nth-child(2)").checked,symbols:this.querySelector("keeper-checkbox-set:last-child").checked}},getOnChange:function(){return this._changeHandler},setOnChange:function(e){var t=getOverlay();"0-9"==this.label?t&&t.generatedPasswordComplexity&&t.generatedPasswordComplexity.numbers:"Sym"==this.label?t&&t.generatedPasswordComplexity&&t.generatedPasswordComplexity.special:"A-Z"==this.label?t&&t.generatedPasswordComplexity&&t.generatedPasswordComplexity.uc:this._changeHandler=e}},a={getScore:function(){return this._score},setScore:function(e){this._score=e;var t=this.querySelector("keeper-div"),r=Math.min(Math.max(parseInt(e),19),100);t.style.width=r+"%",e<20?(this.title="Very Weak",t.style.backgroundColor="#f00"):e<40?(this.title="Weak",t.style.backgroundColor="#ff4500"):e<60?(this.title="Good",t.style.backgroundColor="#ffa500"):e<80?(this.title="Strong",t.style.backgroundColor="#ffd700"):(this.title="Very Strong",t.style.backgroundColor="#3c0")}}},function(e,t,r){"use strict";r.r(t),r.d(t,"keeperSelect",function(){return s}),r.d(t,"keeperModeSelector",function(){return i}),r.d(t,"keeperList",function(){return o}),r.d(t,"keeperListitem",function(){return a}),r.d(t,"keeperPhoneSelect",function(){return d}),r.d(t,"keeperListitemNew",function(){return l});var n=r(5),s={getOptions:function(){return this._options||[]},setOptions:function(e){if(this._options=e,this.options.length>0){var t=this.options.filter(function(e){return!0===e.selected});this.value=0===t.length?this.options[0].value:t[0].value}},getValue:function(){return this._value},setValue:function(e){this._value=e;var t=this.querySelector("keeper-input");this.options.forEach(function(r){r.value===e&&(t.value=r.name||r.value)})},toggleOptions:function(){var e=this,t=this.querySelector("keeper-options");if(t)this.removeChild(t),this.querySelector("keeper-pulldown-toggle").opened=!1;else{var r=document.createElement("keeper-options");r.style.zIndex=this.style.zIndex+1,this.options.forEach(function(t){var n=document.createElement("keeper-option");n.textContent=t.name?t.name:t.value,n.value=t.value,n.onclick=function(){e.value=this.value,e.dispatchEvent(new Event("change")),e.toggleOptions()},r.appendChild(n)}),this.appendChild(r),this.querySelector("keeper-pulldown-toggle").opened=!0}}},i={getMode:function(){return this._mode||"record"},setMode:function(e){var t=getOverlay&&getOverlay();this._mode=e;var r=this.querySelector("keeper-mode-selector keeper-iconbutton-lock"),n=this.querySelector("keeper-mode-selector keeper-iconbutton-cc"),s=this.querySelector("keeper-mode-selector keeper-iconbutton-location"),i=this.querySelector("keeper-mode-selector > keeper-div:nth-child(2)");switch(r.classList.remove("keeper-active"),n.classList.remove("keeper-active"),s.classList.remove("keeper-active"),e){case"record":r.classList.add("keeper-active"),i.textContent=translateThis("Passwords"),sendMessage("whichTabIsHighlighted",{type:"SET",data:"record"}),(o=document.getElementById("keeper-create-new-entry"))&&(o.style.display="flex");break;case"card":n.classList.add("keeper-active"),i.textContent=translateThis("payment_cards"),sendMessage("whichTabIsHighlighted",{type:"SET",data:"payment"});var o=document.getElementById("keeper-create-new-entry"),a=document.getElementById("populate-button");o&&(t&&t.records&&t.records.length>0||t.allowCards)?o.style.display="flex":o&&a&&(o.style.display="none",a.style.display="block");break;case"address":s.classList.add("keeper-active"),i.textContent=translateThis("Addresses"),sendMessage("whichTabIsHighlighted",{type:"SET",data:"address"}),o=document.getElementById("keeper-create-new-entry"),a=document.getElementById("populate-button"),o&&(t&&t.records&&t.records.length>0||t.allowAddresses)?o.style.display="flex":o&&a&&(o.style.display="none",a.style.display="block")}},onClickIcon:function(e,t){t.currentTarget.disabled||(this.mode=getOverlay().displayMode=e,updateFrameHeight())}},o={getSelectedItem:function(){return this._selectedItem||this.items.length>0&&this.items[0]||{}},setSelectedItem:function(e){this._selectedItem=e},getShowNewItemOption:function(){return void 0===this._showNewItemOption||this._showNewItemOption},setShowNewItemOption:function(e){this._showNewItemOption=e},getType:function(){var e=this.items[0];return e?void 0!==e.record_uid?"record":void 0!==e.street_address?"address":void 0!==e.phone_number?"phone":void 0!==e.ccn?"card":null:null},setType:function(){throw new Error('Cannot set "keeper-list.type"; type is determined by contents of "keeper-list.items".')},getItems:function(){return this._items||[]},setItems:function(e){var t=this;this._items=e;var r=this.querySelector("keeper-list-container");if(r.textContent="",this.items.forEach(function(e){if(!e.title)switch(t.type){case"record":break;case"address":e.title=translateThis("billing_address");break;case"phone":e.title=translateThis("contact.phonenumber");break;case"card":e.title=translateThis("payment_card")}var n=createInnerKeeperElement("keeper-listitem");n.item=e,n.onmousedown=function(r){r.stopPropagation(),t.selectedItem=e,t.dispatchEvent(new Event("change",{bubbles:!0})),t.remove()},r.appendChild(n)}),this.showNewItemOption){var n=createInnerKeeperElement("keeper-listitem-new");n.onmousedown=function(){t.selectedItem={},t.dispatchEvent(new Event("change",{bubbles:!0}))},r.appendChild(n),function(e){e.refs={},e.appendChild(createInnerKeeperElement("keeper-iconbutton-add"));var t=e.refs.text=document.createElement("keeper-div");switch(e.appendChild(t),e.parentNode.parentNode.type){default:case"record":e.refs.text.textContent=translateThis("CreateNew");break;case"card":e.refs.text.textContent=translateThis("add_payment_card");break;case"address":e.refs.text.textContent=translateThis("add_address")}}(n)}}},a={getItem:function(){return this._item},setItem:function(e){if(this._item=e,e){var t,r=document.createElement("keeper-card-image"),s=document.createElement("keeper-div");if(e.ccn?(r.className=e.type,s.textContent=e.ccn.length<=4?"••••"+e.ccn:e.ccn,this.querySelector("keeper-div:nth-child(2)").appendChild(r),this.querySelector("keeper-div:nth-child(2)").appendChild(s)):(t=e.secret1||(e.street_address||[]).join(" ").trim()||"",this.querySelector("keeper-div:nth-child(2)").textContent=t||"---",e.secret1&&t===e.secret1&&this.querySelector("keeper-div:nth-child(2)").classList.add("username-wrap")),this.querySelector("keeper-div:nth-child(1)").textContent=e.title||"",this.querySelector("keeper-div:nth-child(3)").textContent=function(e){try{var t=new URL(e),r=t.protocol,n=t.host,s=t.pathname,i=t.search}catch(t){return e}return r+="//",/[!@#$%^&*(),?":{}|<>]/i.test(n)&&(n=unescape(n)),[r,n.replace(/^www\./,""),s,i].slice(1,2).join("")}(e.link)||getSubDomain(e.link),e.shared){var i=createInnerKeeperElement("keeper-iconbutton-person");this.appendChild(i),Object(n.afterAppendKeeperIconButtonPerson)(i)}}}},d={getModel:function(){return this._model||{}},setModel:function(e){this._model=e,this.refs.country.value=this.formatCode(e.country_code),this.refs.number.value=this.formatNumber(e.phone_number)},formatCode:function(e){var t=null;return Number.isNaN(e)||null==e?(t=getLanguage().replace(/\w{2}_/,""),e=this.util.getCountryCodeForRegion(t)):t=this.util.getRegionCodeForCountryCode(e),"ZZ"===t?this.formatCode():t+"(+"+e+")"},formatNumber:function(e){if(!e)return"";var t=this.refs.country.value.slice(0,2);return e.split("").reduce(function(e,t,r,n){return e.inputDigit(t),r===n.length-1?e.currentOutput_:e},new libphonenumber.AsYouTypeFormatter(t))}},l={}},function(e,t,r){"use strict";r.r(t),r.d(t,"afterAppendKeeperIconButtonAdd",function(){return i}),r.d(t,"afterAppendKeeperIconButtonCC",function(){return o}),r.d(t,"afterAppendKeeperIconButtonDice",function(){return a}),r.d(t,"afterAppendKeeperIconButtonEdit",function(){return d}),r.d(t,"afterAppendKeeperIconButtonEyeball",function(){return l}),r.d(t,"afterAppendKeeperIconButtonFolder",function(){return c}),r.d(t,"afterAppendKeeperIconButtonSharedFolder",function(){return p}),r.d(t,"afterAppendKeeperIconButtonFill",function(){return u}),r.d(t,"afterAppendKeeperIconButtonFind",function(){return h}),r.d(t,"afterAppendKeeperIconButtonHelp",function(){return f}),r.d(t,"afterAppendKeeperIconButtonLock",function(){return g}),r.d(t,"afterAppendKeeperIconButtonLocation",function(){return m}),r.d(t,"afterAppendKeeperIconButtonPerson",function(){return y}),r.d(t,"afterAppendKeeperIconButtonSearch",function(){return k}),r.d(t,"afterAppendKeeperIconButtonFavicon",function(){return v});var n=r(2),s=r(6);function i(e){Object(n.afterAppendKeeperIconButton)(e)}function o(e){Object(n.afterAppendKeeperIconButton)(e)}function a(e){Object(n.afterAppendKeeperIconButton)(e);var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("viewBox","0 0 48 48");var s=document.createElementNS(t,"path"),i=document.createElementNS(t,"path");s.setAttribute("d","M22.935.166L0 7.168v29.16L22.935 48 45.87 36.33V7.167L22.935.166zM5.65 8.076L22.936 2.8l15.832 4.834-15.862 5.46L5.65 8.077zm18.525 7.245l18.693-6.434.523.16V34.77l-19.215 9.777V15.32zM2.48 34.77V9.78l19.216 5.587v29.18L2.48 34.77z"),i.setAttribute("d","M23.555 9.053c1.883 0 3.41-.776 3.41-1.735 0-.958-1.527-1.734-3.41-1.734-1.882 0-3.41.776-3.41 1.734 0 .96 1.528 1.735 3.41 1.735M33.895 21.295c-1.014-.456-2.37.402-3.026 1.916-.657 1.516-.365 3.113.65 3.57 1.015.454 2.37-.404 3.027-1.918.656-1.515.364-3.11-.652-3.567M39.517 25.342c-1.015-.456-2.37.402-3.027 1.917-.656 1.514-.364 3.11.652 3.566 1.014.456 2.37-.403 3.026-1.917.656-1.515.364-3.112-.65-3.568M18.637 20.753c-.86-1.336-2.422-1.842-3.492-1.13-1.068.712-1.24 2.373-.38 3.71.86 1.335 2.423 1.84 3.493 1.128 1.068-.71 1.24-2.37.38-3.707M10.29 23.276c-1.07.712-1.24 2.373-.38 3.71.86 1.335 2.423 1.84 3.492 1.13 1.07-.714 1.24-2.373.38-3.71-.86-1.336-2.422-1.842-3.493-1.13M5.124 26.956c-1.068.712-1.24 2.373-.38 3.71.86 1.336 2.423 1.84 3.493 1.13 1.068-.713 1.238-2.373.38-3.71-.86-1.336-2.423-1.842-3.493-1.13"),r.appendChild(s),r.appendChild(i),e.appendChild(r),getOverlay()&&"oldPasswordView"===getOverlay()._mode&&(e.style.right="38px")}function d(e){Object(n.afterAppendKeeperIconButton)(e)}function l(e,t){e.style.cursor=e.disabled?"not-allowed":"pointer",e.style.height="24px",e.style.width="24px",e.style.position="relative";var r=t||getOverlay();!r||"oldPasswordView"!==r._mode&&"savePasswordView"!==r._mode||(e.style.right="8px"),e.mode="hidden"}function c(e){Object(n.afterAppendKeeperIconButton)(e)}function p(e){Object(n.afterAppendKeeperIconButton)(e)}function u(e){Object(n.afterAppendKeeperIconButton)(e)}function h(e){Object(n.afterAppendKeeperIconButton)(e)}function f(e){Object(n.afterAppendKeeperIconButton)(e)}function g(e){Object(n.afterAppendKeeperIconButton)(e)}function m(e){Object(n.afterAppendKeeperIconButton)(e)}function y(e){Object(n.afterAppendKeeperIconButton)(e)}function k(e){Object(n.afterAppendKeeperIconButton)(e)}function v(e){var t=document.getElementById("keeper-extension"),r=t.referrer,n=t.faviconUrl,i=document.createElement("keeper-div");i.textContent=r,e.appendChild(i);var o=new Image(16,16);o.src=n,o.onload=function(){e.insertBefore(o,e.firstChild)},o.onerror=function(){var t=document.createElement("keeper-favicon-placeholder"),r=Object(s.makesvg)("M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z","16","16","0 0 24 24");t.appendChild(r),e.insertBefore(t,e.firstChild)}}n.KeeperIconButton,n.KeeperIconButton,n.KeeperIconButton,n.KeeperIconButton,n.KeeperIconButton,n.KeeperIconButton,n.KeeperIconButton,n.KeeperIconButton,n.KeeperIconButton,n.KeeperIconButton,n.KeeperIconButton,n.KeeperIconButton,n.KeeperIconButton,n.KeeperIconButton,n.KeeperIconButton},function(e,t,r){"use strict";r.r(t),r.d(t,"makesvg",function(){return s}),r.d(t,"initKeeperIconButton",function(){return i}),r.d(t,"initKeeperIconButtonEyeball",function(){return o}),r.d(t,"initKeeperIconButtonAdd",function(){return a}),r.d(t,"initKeeperIconButtonCC",function(){return d}),r.d(t,"initkeeperIconButtonDice",function(){return l}),r.d(t,"initKeeperIconButtonEdit",function(){return c}),r.d(t,"initKeeperIconButtonFolder",function(){return p}),r.d(t,"initKeeperIconButtonSharedFolder",function(){return u}),r.d(t,"initKeeperIconButtonFill",function(){return h}),r.d(t,"initKeeperIconButtonFind",function(){return f}),r.d(t,"initKeeperIconButtonHelp",function(){return g}),r.d(t,"initKeeperIconButtonLock",function(){return m}),r.d(t,"initKeeperIconButtonLocation",function(){return y}),r.d(t,"initKeeperIconButtonPerson",function(){return k}),r.d(t,"initKeeperIconButtonSearch",function(){return v}),r.d(t,"initKeeperIconButtonFavicon",function(){return b});var n=r(19);function s(e,t,r,n,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"path");return o.setAttribute("width",t),o.setAttribute("height",r),o.setAttribute("viewBox",n),s&&o.setAttribute("fill",s),a.setAttribute("d",e),o.appendChild(a),o}function i(e){return Object.defineProperty(e,"disabled",{get:n.keeperIconButton.getDisabled,set:n.keeperIconButton.setDisabled}),e}function o(e){return e=i(e),Object.defineProperty(e,"mode",{get:n.keeperIconButtonEyeball.getMode,set:n.keeperIconButtonEyeball.setMode}),e}function a(e){e=i(e);var t=s("M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z","24","24","0 0 24 24");return e.appendChild(t),e}function d(e){e=i(e);var t=s("M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z","24","24","0 0 24 24");return e.appendChild(t),e}function l(e){return i(e)}function c(e){e=i(e);var t=s("M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z","24","24","0 0 24 24");return e.appendChild(t),e}function p(e){e=i(e);var t=s("M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z","24","24","0 0 24 24");return e.appendChild(t),e}function u(e){e=i(e);var t=s("M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-5 3c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8h-8v-1c0-1.33 2.67-2 4-2s4 .67 4 2v1z","24","24","0 0 24 24");return e.appendChild(t),e}function h(e){e=i(e);var t=s("M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z","24","24","0 0 24 24");return e.appendChild(t),e.style.height="20.891px",e.style.width="20.891px",e}function f(e){e=i(e);var t=s("M20 19.59V8l-6-6H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c.45 0 .85-.15 1.19-.4l-4.43-4.43c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L20 19.59zM9 13c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z","24","24","0 0 24 24");return e.appendChild(t),e}function g(e){(e=i(e)).setAttribute("keeper-tooltip",translateThis("Help"));var t=s("M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z","24","24","0 0 24 24");return e.appendChild(t),e.onclick=function(){window.open("https://keepersecurity.com/"+getLanguage()+"/user-guides/guide-browser-extensions.html","Help")},e}function m(e){e=i(e);var t=s("M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z","24","24","0 0 24 24");return e.appendChild(t),e}function y(e){e=i(e);var t=s("M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z","24","24","0 0 24 24");return e.appendChild(t),e}function k(e){e=i(e);var t=s("M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z","24","24","0 0 24 24");return e.appendChild(t),e}function v(e){(e=i(e)).setAttribute("keeper-tooltip",translateThis("Search"));var t=s("M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z","24","24","0 0 24 24");return e.appendChild(t),e}function b(e){return i(e)}},function(e,t,r){"use strict";r.r(t),r.d(t,"keeperButton",function(){return n}),r.d(t,"keeperCheckbox",function(){return s}),r.d(t,"keeperCheckboxSet",function(){return i});var n={getDisabled:function(){return this._disabled||!1},setDisabled:function(e){this._disabled=e,this.classList.toggle("keeper-button-disabled",e)},getPlainStyle:function(){return this._plainStyle||!1},setPlainStyle:function(e){this._plainStyle=e,this.classList.toggle("keeper-button-transparent",e)}},s={getChecked:function(){return this._checked},setChecked:function(e){var t=getOverlay();this._checked=t&&t.generatedPasswordComplexity?function(e,t,r){if(t){if(t.noParent)return t.noParent;if("0-9"==t.label){if(t.querySelector("keeper-checkbox").checked)return e.numbers>-1?t.querySelector("keeper-checkbox").checked:!t.querySelector("keeper-checkbox").checked;if(e.numbers>0)return r}else if("Sym"==t.label){if(t.querySelector("keeper-checkbox").checked)return e.special>-1?t.querySelector("keeper-checkbox").checked:!t.querySelector("keeper-checkbox").checked;if(e.special>0)return r}else{if("A-Z"!=t.label)return r;if(t.querySelector("keeper-checkbox").checked)return e.uc>-1?t.querySelector("keeper-checkbox").checked:!t.querySelector("keeper-checkbox").checked;if(e.uc>0)return r}}}(t.generatedPasswordComplexity,this.parentNode?this.parentNode:{noParent:e},e):e;var r="http://www.w3.org/2000/svg",n=document.createElementNS(r,"svg");n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.setAttribute("viewBox","0 0 24 24");var s=document.createElementNS(r,"path");this._checked?s.setAttribute("d","M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"):s.setAttribute("d","M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"),this.childNodes&&this.childNodes[0]&&this.removeChild(this.childNodes[0]),n.appendChild(s),this.appendChild(n)},getOnChange:function(){return this._changeHandler},setOnChange:function(e){this._changeHandler=e}},i={getChecked:function(){return this.querySelector("keeper-checkbox").checked},setChecked:function(e){var t=getOverlay();this.querySelector("keeper-checkbox").checked=t&&t.generatedPasswordComplexity?t.generatedPasswordComplexity.special>0:e},getLabel:function(){return this.querySelector("keeper-div").textContent},setLabel:function(e){this.querySelector("keeper-div").textContent=e},getOnChange:function(){return this.querySelector("keeper-checkbox").onChange},setOnChange:function(e){this.querySelector("keeper-checkbox").onChange=e}}},function(e,t,r){"use strict";r.r(t),r.d(t,"initKeeperRecord",function(){return o}),r.d(t,"initKeeperRecordEditor",function(){return a}),r.d(t,"initKeeperRecordField",function(){return d}),r.d(t,"initKeeperRecordFieldTOTP",function(){return p}),r.d(t,"initKeeperRecordFieldExtra",function(){return u}),r.d(t,"initKeeperRecordFieldCard",function(){return h}),r.d(t,"initKeeperRecordFieldCVV",function(){return f}),r.d(t,"initKeeperRecordFieldAddress",function(){return g}),r.d(t,"initKeeperRecordFieldLogin",function(){return m}),r.d(t,"initKeeperRecordFieldPassword",function(){return y}),r.d(t,"initKeeperRecordSimple",function(){return k}),r.d(t,"initKeeperRecordSelector",function(){return v}),r.d(t,"initKeeperRecordChooser",function(){return b});var n=r(1),s=r(5),i=r(15);function o(e){return e.restore=n.keeperRecord.restore,Object.defineProperty(e,"records",{get:n.keeperRecord.getRecords,set:n.keeperRecord.setRecords}),Object.defineProperty(e,"showAll",{get:n.keeperRecord.getShowAll,set:n.keeperRecord.setShowAll}),Object.defineProperty(e,"record",{get:n.keeperRecord.getRecord,set:n.keeperRecord.setRecord}),e.refs={},e}function a(e){return e.refs={},e.save=n.keeperRecordEditor.save,e.sanitize=n.keeperRecordEditor.sanitize,e.makeChangeHandler=n.keeperRecordEditor.makeChangeHandler,Object.defineProperty(e,"record",{get:n.keeperRecordEditor.getRecord,set:n.keeperRecordEditor.setRecord}),Object.defineProperty(e,"mode",{get:n.keeperRecordEditor.getMode,set:n.keeperRecordEditor.setMode}),e}function d(e){return c(e=l(e))}function l(e){return e.doToggle=n.keeperRecordField.doToggle,e.doFill=n.keeperRecordField.doFill,Object.defineProperty(e,"datakey",{get:n.keeperRecordField.getDataKey,set:n.keeperRecordField.setDataKey}),Object.defineProperty(e,"field",{get:n.keeperRecordField.getField,set:n.keeperRecordField.setField}),Object.defineProperty(e,"label",{get:n.keeperRecordField.getLabel,set:n.keeperRecordField.setLabel}),Object.defineProperty(e,"count",{get:n.keeperRecordField.getCount,set:n.keeperRecordField.setCount}),Object.defineProperty(e,"showToggle",{get:n.keeperRecordField.getShowToggle,set:n.keeperRecordField.setShowToggle}),Object.defineProperty(e,"showFillButton",{get:n.keeperRecordField.getShowFillButton,set:n.keeperRecordField.setShowFillButton}),e}function c(e){var t=e.refs={},r=document.createElement("keeper-div");r.style.position="relative",e.appendChild(r);var n=t.label=document.createElement("keeper-div");r.appendChild(n);var i=t.field=document.createElement("keeper-div");r.appendChild(i);var o=t.eyeball=createInnerKeeperElement("keeper-iconbutton-eyeball");o.onclick=e.doToggle.bind(e),e.appendChild(o),Object(s.afterAppendKeeperIconButtonEyeball)(o);var a=t.fillButton=createInnerKeeperElement("keeper-iconbutton-fill");return a.setAttribute("keeper-tooltip",translateThis("Fill")),a.onclick=e.doFill.bind(e),e.appendChild(a),Object(s.afterAppendKeeperIconButtonFill)(a),e}function p(e){(e=l(e)).doToggle=n.keeperRecordFieldTOTP.doToggle,e.doFill=n.keeperRecordFieldTOTP.doFill,e.refreshToken=n.keeperRecordFieldTOTP.refreshToken,e.formatToken=n.keeperRecordFieldTOTP.formatToken,Object.defineProperty(e,"unmasked",{get:n.keeperRecordFieldTOTP.getUnmasked,set:n.keeperRecordFieldTOTP.setUnmasked});var t=new TotpSpinner(15,4);return e.appendChild(t.svg),t.svg.style.flexShrink="0",t.svg.style.padding="3px 10px 0 0",e.spinner=t,c(e)}function u(e){return(e=l(e)).doToggle=n.keeperRecordFieldExtra.doToggle,e.doFill=n.keeperRecordFieldExtra.doFill,Object.defineProperty(e,"unmasked",{get:n.keeperRecordFieldExtra.getUnmasked,set:n.keeperRecordFieldExtra.setUnmasked}),c(e)}function h(e){(e=l(e)).renderNumber=n.keeperRecordFieldCard.renderNumber,e.doToggle=n.keeperRecordFieldCard.doToggle,e.doFill=n.keeperRecordFieldCard.doFill,Object.defineProperty(e,"card",{get:n.keeperRecordFieldCard.getCard,set:n.keeperRecordFieldCard.setCard}),(e=c(e)).refs.info=document.createElement("keeper-row");var t=e.refs.field.parentNode;return t.insertBefore(e.refs.info,e.refs.field),t.removeChild(e.refs.field),e.refs.icon=e.refs.info.appendChild(document.createElement("keeper-card-image")),e.refs.info.appendChild(e.refs.field),e}function f(e){return(e=l(e)).renderNumber=n.keeperRecordFieldCVV.renderNumber,e.doToggle=n.keeperRecordFieldCVV.doToggle,e.doFill=n.keeperRecordFieldCVV.doFill,Object.defineProperty(e,"card",{get:n.keeperRecordFieldCVV.getCard,set:n.keeperRecordFieldCVV.setCard}),c(e),e.label=translateThis("cvv"),e}function g(e){return(e=l(e)).doFill=n.keeperRecordFieldAddress.doFill,(e=c(e)).showToggle=!1,e}function m(e){return(e=l(e)).doFill=n.keeperRecordFieldLogin.doFill,Object.defineProperty(e,"record",{get:n.keeperRecordFieldLogin.getRecord,set:n.keeperRecordFieldLogin.setRecord}),(e=c(e)).showToggle=!1,e.refs.fillButton.setAttribute("keeper-tooltip",translateThis("Fill")),e}function y(e){return(e=l(e)).doFill=n.keeperRecordFieldPassword.doFill,Object.defineProperty(e,"privacyScreenEnabled",{get:n.keeperRecordFieldPassword.getPrivacyScreenEnabled,set:n.keeperRecordFieldPassword.setPrivacyScreenEnabled}),Object.defineProperty(e,"password",{get:n.keeperRecordFieldPassword.getPassword,set:n.keeperRecordFieldPassword.setPassword}),Object.defineProperty(e,"restricted",{get:n.keeperRecordFieldPassword.getRestricted,set:n.keeperRecordFieldPassword.setRestricted}),(e=c(e)).label=translateThis("secret2_header"),e.field=createInnerKeeperElement("keeper-password"),e.field.style.width="100%",e.field.readOnly=!0,e.showToggle=!1,e.refs.fillButton.setAttribute("keeper-tooltip",translateThis("Fill")),e}function k(e){Object.defineProperty(e,"record",{set:n.keeperRecordSimple.setRecord});var t=document.createElement("keeper-div");e.appendChild(t);var r=document.createElement("keeper-div");return e.appendChild(r),e}function v(e){Object.defineProperty(e,"records",{get:n.keeperRecordSelector.getRecords,set:n.keeperRecordSelector.setRecords}),Object.defineProperty(e,"selectedItem",{get:n.keeperRecordSelector.getSelectedItem});var t=createInnerKeeperElement("keeper-record-chooser");t.onchange=function(t){e.querySelector("keeper-record-simple").record=t.target.selectedItem},e.appendChild(t),Object(i.afterAppendKeeperRecordChooser)(t);var r=createInnerKeeperElement("keeper-record-simple");return e.appendChild(r),e.onclick=function(r){r.stopPropagation(),e.records.length>1&&t.trigger()},e}function b(e){e.trigger=n.keeperRecordChooser.trigger,Object.defineProperty(e,"records",{get:n.keeperRecordChooser.getRecords,set:n.keeperRecordChooser.setRecords}),Object.defineProperty(e,"selectedItem",{get:n.keeperRecordChooser.getSelectedItem,set:n.keeperRecordChooser.setSelectedItem});var t=(e.refs={}).toggle=createInnerKeeperElement("keeper-dropdown-toggle");return e.appendChild(t),e}},,function(e,t,r){"use strict";function n(e){e.children&&e.children&&e.children.length>0||(e.textContent=e.value||e.placeholder||""),e.fitText(),e.style.color=!e.value&&e.placeholder?"#eee":""}r.r(t),r.d(t,"afterAppendKeeperInput",function(){return n}),HTMLInputElement,HTMLElement},function(e,t,r){"use strict";r.r(t),r.d(t,"keeperInput",function(){return n}),r.d(t,"keeperInputLabel",function(){return s});var n={fitText:function(){this.scrollHeight>=this.offsetHeight&&"••••••••••"!==this.value?this.style.height=this.scrollHeight+"px":this.style.height=""},getPlaceholder:function(){return this._placeholder},setPlaceholder:function(e){this._placeholder=e,""===this.value&&(this.textContent=e)},getReadOnly:function(){return this._readOnly||!1},setReadOnly:function(e){this._readOnly=e,this.contentEditable=!e},getValue:function(){return this._value||""},setValue:function(e){this._value=e,this.children&&this.children.length>0?(this.value!==this.children[0].value&&(this.children[0].value=this.value,this.style.color=""),this!==document.activeElement&&!this._value&&this.placeholder&&(this.children[0].placeholder=this.placeholder,this.style.color="#eee")):(this.textContent!==this.value&&(this.textContent=this.value,this.style.color=""),this!==document.activeElement&&!this._value&&this.placeholder&&(this.textContent=this.placeholder,this.style.color="#eee")),this.fitText(),this.dispatchEvent(new Event("change",{bubbles:!0}))}},s={getLabel:function(){return this._label||""},setLabel:function(e){this._label=e,this.querySelector("keeper-div").textContent=e},getValue:function(){return this.querySelector("keeper-input").value},setValue:function(e){this.querySelector("keeper-input").value=e}}},function(e,t,r){"use strict";r.r(t),r.d(t,"keeperSlider",function(){return n});var n={getMax:function(){return this._max||100},setMax:function(e){this._max=e},getMin:function(){return this._min||0},setMin:function(e){var t=getOverlay();this._min=t&&t.generatedPasswordComplexity?t.generatedPasswordComplexity.ruleLength:e},getValue:function(){var e=this.querySelector("keeper-div"),t=e?e.offsetLeft/(this.offsetWidth-e.offsetWidth):0;return Math.floor((this.max-this.min)*t+this.min)},setValue:function(e){var t=getOverlay();e=t&&t.generatedPasswordComplexity?t.generatedPasswordComplexity.ruleLength:e;var r=this.querySelector("keeper-div"),n=(e-this.min)/(this.max-this.min);r&&(r.style.left=100*n+"%",r.style.transform="translateX(-50%)")},getOnChange:function(){return this._changeHandler},setOnChange:function(e){this._changeHandler=e}}},function(e,t,r){"use strict";r.r(t),r.d(t,"keeperFolderListItem",function(){return s}),r.d(t,"keeperFolderList",function(){return i}),r.d(t,"keeperFolderAutocomplete",function(){return o});var n=r(5),s={getFolder:function(){return this._folder},setFolder:function(e){if(this._folder=e,this.textContent="",e){if(e.shared_folder_uid){var t=createInnerKeeperElement("keeper-iconbutton-sharedfolder");this.appendChild(t),Object(n.afterAppendKeeperIconButtonSharedFolder)(t)}else t=createInnerKeeperElement("keeper-iconbutton-folder"),this.appendChild(t),Object(n.afterAppendKeeperIconButtonFolder)(t);var r=document.createElement("keeper-div");r.textContent=e.name,this.appendChild(r)}}},i={getFolders:function(){return this._folders||[]},setFolders:function(e){this._folders=e;var t=this;this.textContent="",this.folders.forEach(function(e){var r=createInnerKeeperElement("keeper-folder-listitem");r.folder=e,r.onclick=function(r){r.stopPropagation(),t.selectedFolder=e,t.dispatchEvent(new Event("change",{bubbles:!0}))},t.appendChild(r)})}},o={getValue:function(){return this.querySelector("keeper-input").value},setValue:function(e){this.querySelector("keeper-input").value=e},trigger:function(e){var t=this,r=(this.querySelector("keeper-input"),this.querySelector("keeper-folder-list")),n=Array.prototype.filter.call(this.folders,function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())});n.length>0?(r?r.folders=n:((r=createInnerKeeperElement("keeper-folder-list")).folders=n,r.style.zIndex=this.style.zIndex+1,r.onchange=function(){t.value=r.selectedFolder.name,t.selectedFolder=r.selectedFolder,r.remove()},this.appendChild(r)),r.records=n):r&&r.remove()},fitText:function(){this.querySelector("keeper-input").fitText()}}},,function(e,t,r){"use strict";function n(e){"record"!==e.mode||e.record.record_uid||(e.querySelector("keeper-input-label:nth-child(1)").value=e.hints.title,e.hints.login&&e.hints.login.length?e.querySelector("keeper-input-label:nth-child(2)").value=e.hints.login:sendMessage("username",{type:"GET"},function(t){e.querySelector("keeper-input-label:nth-child(2)").value=t}),e.hints.password?e.querySelector("keeper-password-label:nth-child(3)").value=e.hints.password:(e.querySelector("keeper-password-options").style.display="",e.querySelector("keeper-password").generate()),e.querySelector("keeper-input-label:nth-child(4)").value=e.hints.link)}function s(e){e.selectedItem=e.records[0]}r.r(t),r.d(t,"afterAppendKeeperRecordEditor",function(){return n}),r.d(t,"afterAppendKeeperRecordChooser",function(){return s}),HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement},function(e,t,r){"use strict";r.r(t),r.d(t,"keeperDropdownToggle",function(){return n}),r.d(t,"keeperPulldownToggle",function(){return s}),r.d(t,"keeperShowMore",function(){return i});var n={getOpened:function(){return this._opened},setOpened:function(e){this._opened=e;var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");r.setAttribute("width","24"),r.setAttribute("height","24"),r.setAttribute("viewBox","0 0 24 24");var n=document.createElementNS(t,"path");e?n.setAttribute("d","M7 14l5-5 5 5z"):n.setAttribute("d","M7 10l5 5 5-5z"),this.childNodes&&this.childNodes[0]&&this.removeChild(this.childNodes[0]),r.appendChild(n),this.appendChild(r)}},s={getOpened:function(){return this._opened},setOpened:function(e){this._opened=e;var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");r.setAttribute("width","24"),r.setAttribute("height","24"),r.setAttribute("viewBox","0 0 24 24");var n=document.createElementNS(t,"path");e?n.setAttribute("d","M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"):n.setAttribute("d","M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"),this.childNodes&&this.childNodes[0]&&this.removeChild(this.childNodes[0]),r.appendChild(n),this.appendChild(r)}},i={getOpened:function(){return this._opened},setOpened:function(e){this._opened=e,this.querySelector("keeper-pulldown-toggle").opened=e,this.querySelector("keeper-div").textContent=e?translateThis("show_less"):translateThis("show_more")}}},function(e,t,r){"use strict";r.r(t),r.d(t,"initKeeperSelect",function(){return o}),r.d(t,"initKeeperModeSelector",function(){return a}),r.d(t,"initKeeperList",function(){return d}),r.d(t,"initKeeperListitem",function(){return l}),r.d(t,"initKeeperListitemNew",function(){return c}),r.d(t,"initKeeperPhoneSelect",function(){return p});var n=r(4),s=r(5),i=r(10);function o(e){e.toggleOptions=n.keeperSelect.toggleOptions,Object.defineProperty(e,"options",{get:n.keeperSelect.getOptions,set:n.keeperSelect.setOptions}),Object.defineProperty(value,"value",{get:n.keeperSelect.getValue,set:n.keeperSelect.setValue});var t=createInnerKeeperElement("keeper-input");t.readOnly=!0,t.onclick=e.toggleOptions.bind(e),e.appendChild(t),Object(i.afterAppendKeeperInput)(t);var r=createInnerKeeperElement("keeper-pulldown-toggle");return r.onclick=e.toggleOptions.bind(e),e.appendChild(r),e}function a(e){e.onClickIcon=n.keeperModeSelector.onClickIcon,Object.defineProperty(e,"mode",{get:n.keeperModeSelector.getMode,set:n.keeperModeSelector.setMode});var t=document.createElement("keeper-div");e.appendChild(t);var r=createInnerKeeperElement("keeper-iconbutton-lock");r.classList.add("keeper-active"),r.onclick=e.onClickIcon.bind(e,"record"),t.appendChild(r),Object(s.afterAppendKeeperIconButtonLock)(r);var i=createInnerKeeperElement("keeper-iconbutton-cc");i.onclick=e.onClickIcon.bind(e,"card"),t.appendChild(i),Object(s.afterAppendKeeperIconButtonCC)(i);var o=createInnerKeeperElement("keeper-iconbutton-location");o.onclick=e.onClickIcon.bind(e,"address"),t.appendChild(o),Object(s.afterAppendKeeperIconButtonLocation)(o);var a=document.createElement("keeper-div");return a.textContent=translateThis("Passwords"),e.appendChild(a),e}function d(e){return Object.defineProperty(e,"selectedItem",{get:n.keeperList.getSelectedItem,set:n.keeperList.setSelectedItem}),Object.defineProperty(e,"showNewItemOption",{get:n.keeperList.getShowNewItemOption,set:n.keeperList.setShowNewItemOption}),Object.defineProperty(e,"type",{get:n.keeperList.getType,set:n.keeperList.setType}),Object.defineProperty(e,"items",{get:n.keeperList.getItems,set:n.keeperList.setItems}),e.appendChild(document.createElement("keeper-list-container")),e}function l(e){return Object.defineProperty(e,"item",{get:n.keeperListitem.getItem,set:n.keeperListitem.setItem}),e.appendChild(document.createElement("keeper-div")),e.appendChild(document.createElement("keeper-div")),e.appendChild(document.createElement("keeper-div")),e}function c(e){return e}function p(e){e.formatCode=n.keeperPhoneSelect.formatCode,e.formatNumber=n.keeperPhoneSelect.formatNumber,Object.defineProperty(e,"model",{get:n.keeperPhoneSelect.getModel,set:n.keeperPhoneSelect.setModel});var t=e.refs={};e.util=libphonenumber.PhoneNumberUtil.getInstance(),t.label=e.appendChild(createAndAssign("keeper-div",{tabIndex:1,textContent:translateThis("contact.phonenumber")}));var r=e.appendChild(document.createElement("keeper-input-group")),s=createAndAssign("keeper-input",{value:e.formatCode(),onfocus:function(t){e.refs.country.value=e.refs.country.value.replace(/\D/g,"")},onblur:function(t){e.refs.country.value=e.formatCode(e.refs.country.value),e.refs.number.focus(),e.refs.number.blur()}});t.country=r.appendChild(s),Object(i.afterAppendKeeperInput)(s);var o=createAndAssign("keeper-input",{onfocus:function(t){e.refs.number.value=e.refs.number.value.replace(/\D/g,"")},onblur:function(t){e.refs.number.value=e.formatNumber(e.refs.number.value)}});return t.number=r.appendChild(o),Object(i.afterAppendKeeperInput)(o),e}},function(e,t,r){"use strict";r.r(t),r.d(t,"initKeeperThemablePopup",function(){return i}),r.d(t,"initKeeperExtension",function(){return o}),r.d(t,"initKeeperExtensionSimpleDisabled",function(){return a}),r.d(t,"initKeeperExtensionPrompt",function(){return d}),r.d(t,"initKeeperExtensionSimple",function(){return l});var n=r(0),s=r(5);function i(e){return Object.defineProperty(e,"theme",{get:n.keeperThemablePopup.getTheme,set:n.keeperThemablePopup.setTheme}),sendMessage("theme",{type:"GET"},function(t){e.theme=t}),e}function o(e){(e=i(e)).onDataUpdated=n.keeperExtension.onDataUpdated,e.finalClickHandler=n.keeperExtension.finalClickHandler,e.swapButtons=n.keeperExtension.swapButtons,Object.defineProperty(e,"autoOpened",{get:n.keeperExtension.getAutoOpened,set:n.keeperExtension.setAutoOpened}),Object.defineProperty(e,"allRecords",{get:n.keeperExtension.getAllRecords,set:n.keeperExtension.setAllRecords}),Object.defineProperty(e,"editMode",{get:n.keeperExtension.getEditMode,set:n.keeperExtension.setEditMode}),Object.defineProperty(e,"error",{set:n.keeperExtension.setError}),Object.defineProperty(e,"displayMode",{get:n.keeperExtension.getDisplayMode,set:n.keeperExtension.setDisplayMode}),Object.defineProperty(e,"group",{get:n.keeperExtension.getGroup,set:n.keeperExtension.setGroup}),Object.defineProperty(e,"collection",{get:n.keeperExtension.getCollection,set:n.keeperExtension.setCollection}),Object.defineProperty(e,"records",{get:n.keeperExtension.getRecords,set:n.keeperExtension.setRecords}),Object.defineProperty(e,"cards",{get:n.keeperExtension.getCards,set:n.keeperExtension.setCards}),Object.defineProperty(e,"addresses",{get:n.keeperExtension.getAddresses,set:n.keeperExtension.setAddresses}),Object.defineProperty(e,"restrictDomainCreate",{get:n.keeperExtension.getRestrictDomainCreate,set:n.keeperExtension.setRestrictDomainCreate}),Object.defineProperty(e,"maskCustomFields",{get:n.keeperExtension.getMaskCustomFields,set:n.keeperExtension.setMaskCustomFields}),Object.defineProperty(e,"maskNotes",{get:n.keeperExtension.getMaskNotes,set:n.keeperExtension.setMaskNotes}),Object.defineProperty(e,"referrer",{get:n.keeperExtension.getReferrer,set:n.keeperExtension.setReferrer}),Object.defineProperty(e,"faviconUrl",{get:n.keeperExtension.getFaviconUrl,set:n.keeperExtension.setFaviconUrl}),e.refs={},e.appendChild(document.createElement("keeper-header-placeholder"));var t=createInnerKeeperElement("keeper-mode-selector");e.appendChild(t);var r=createInnerKeeperElement("keeper-favicon");e.appendChild(r);var o=document.createElement("keeper-extension-no-record"),a=document.createElement("keeper-div");a.textContent=translateThis("no_records_match_domain"),o.style.marginBottom="10px",o.appendChild(a),e.appendChild(o);var d=document.createElement("keeper-extension-content"),l=createInnerKeeperElement("keeper-record");d.appendChild(l),e.appendChild(d);var c=document.createElement("keeper-content-options"),p=document.createElement("keeper-div"),u=createInnerKeeperElement("keeper-iconbutton-add");p.appendChild(u),p.id="keeper-create-new-entry",p.onclick=function(t){t.stopPropagation(),"record"===e.displayMode?e.restrictDomainCreate?overlayAlert(translateThis("role_enf_restriction"),getOverlay()):(l.record={},e.editMode=!0,sendMessage("toggleHeaderButtons",{type:"ACTION",data:!0})):e.restrictCreateIdentityPaymentRecords?overlayAlert(translateThis("role_enf_restriction"),getOverlay()):(l.record={},e.editMode=!0,sendMessage("toggleHeaderButtons",{type:"ACTION",data:!0}))};var h=document.createElement("keeper-div");h.textContent=translateThis("CreateNew"),p.appendChild(h);var f=document.createElement("keeper-div");f.id="populate-button",f.style.display="none",f.textContent="Pull down Information? You do not have any records on this site.";var g=document.createElement("keeper-button");return g.id="pull-information-button",g.style.display="none",g.textContent=translateThis("show_payment_cards"),g.onclick=function(t){t.stopPropagation();var r=this,n=getOverlay(),s=translateThis("pull_information_from_extensions").replace("XXX",translateThis("payment_cards")).replace("YYY",n.referrer),i=translateThis("pull_information_from_extensions").replace("XXX",translateThis("Addresses")).replace("YYY",n.referrer),o="card"===e.displayMode?s:"address"===e.displayMode?i:"";n&&"record"!==e.displayMode&&window.confirm(o)&&sendMessage("allCardsAndAddresses",{type:"GET",data:{referrer:n.recordGet}},function(t){var s=t.addresses,i=t.cards,o=t.phone,a=getFrameDocument(),d=a.getElementById("pull-information-button"),l=a.getElementById("populate-button"),c=a.getElementById("keeper-create-new-entry");"card"===e.displayMode&&(i&&i.length&&i.length>0?(n.allowCards=!0,n.cards=i,r.style&&(r.style.display="none")):(d&&(d.style.display="none"),l&&(l.style.display="none"),c&&(c.style.display="flex"))),"address"===e.displayMode&&(s&&s.length&&s.length>0?(n.allowAddresses=!0,n.addresses=s,r.style&&(r.style.display="none")):(d&&(d.style.display="none"),l&&(l.style.display="none"),c&&(c.style.display="flex")),o&&o.length&&o.length>0&&(n.phone=o,r.style&&(r.style.display="none")))})},c.appendChild(f),c.appendChild(g),c.appendChild(p),d.appendChild(c),e.addEventListener("click",e.finalClickHandler),e.addEventListener("mousedown",e.finalClickHandler),Object(s.afterAppendKeeperIconButtonAdd)(u),e}function a(e){e=i(e),Object.defineProperty(e,"header",{get:n.keeperExtensionSimpleDisabled.getHeader,set:n.keeperExtensionSimpleDisabled.setHeader}),Object.defineProperty(e,"message",{get:n.keeperExtensionSimpleDisabled.getMessage,set:n.keeperExtensionSimpleDisabled.setMessage}),Object.defineProperty(e,"error",{get:n.keeperExtensionSimpleDisabled.getError,set:n.keeperExtensionSimpleDisabled.setError});var t=e.refs={};return e.appendChild(document.createElement("keeper-header-placeholder")),t.content=e.appendChild(document.createElement("keeper-extension-content")),t.header=t.content.appendChild(createAndAssign("keeper-div",{style:{fontWeight:"bold"}})),t.blurb=t.content.appendChild(document.createElement("keeper-div")),t.content.appendChild(createAndAssign("keeper-div",{style:{marginBottom:"12px"}})),e.onclick=e.onmousedown=haltPropagation,e}function d(e){(e=i(e)).showSaveOptions=n.keeperExtensionPrompt.showSaveOptions,e.showSavedRecord=n.keeperExtensionPrompt.showSavedRecord,e.showEditScreen=n.keeperExtensionPrompt.showEditScreen,e.oldPasswordView=n.keeperExtensionPrompt.oldPasswordView,e.newPasswordView=n.keeperExtensionPrompt.newPasswordView,e.savePasswordView=n.keeperExtensionPrompt.savePasswordView,e.passwordChangedView=n.keeperExtensionPrompt.passwordChangedView,e.checkChangePasswordSuccessView=n.keeperExtensionPrompt.checkChangePasswordSuccessView,e.uploadRecord=n.keeperExtensionPrompt.uploadRecord,e.save=n.keeperExtensionPrompt.save,e.fill=n.keeperExtensionPrompt.fill,Object.defineProperty(e,"settingNameToToggle",{get:n.keeperExtensionPrompt.getSettingNameToToggle,set:n.keeperExtensionPrompt.setSettingNameToToggle}),Object.defineProperty(e,"bgListener",{get:n.keeperExtensionPrompt.getBGListener,set:n.keeperExtensionPrompt.setBGListener}),Object.defineProperty(e,"closeOnConfirm",{get:n.keeperExtensionPrompt.getCloseOnConfirm,set:n.keeperExtensionPrompt.setCloseOnConfirm}),Object.defineProperty(e,"showDisable",{get:n.keeperExtensionPrompt.getShowDisable,set:n.keeperExtensionPrompt.setShowDisable}),Object.defineProperty(e,"message",{get:n.keeperExtensionPrompt.getMessage,set:n.keeperExtensionPrompt.setMessage}),Object.defineProperty(e,"onResponse",{get:n.keeperExtensionPrompt.getOnResponse,set:n.keeperExtensionPrompt.setOnResponse}),Object.defineProperty(e,"newPasswordFieldsFilled",{get:n.keeperExtensionPrompt.getNewPasswordFieldsFilled,set:n.keeperExtensionPrompt.setNewPasswordFieldsFilled}),Object.defineProperty(e,"records",{get:n.keeperExtensionPrompt.getRecords,set:n.keeperExtensionPrompt.setRecords}),Object.defineProperty(e,"editMode",{get:n.keeperExtension.getEditMode,set:n.keeperExtension.setEditMode});var t=e.refs={};e.appendChild(document.createElement("keeper-header-placeholder"));var r=createInnerKeeperElement("keeper-favicon");e.appendChild(r);var s=t.content=e.appendChild(document.createElement("keeper-extension-content"));t.recordSelector=s.appendChild(createAndAssign("keeper-record",{records:e.records,record:e.records[0],className:"minimal"})),t.text=s.appendChild(createAndAssign("keeper-div",{textContent:e._message}));var o=t.buttons=s.appendChild(document.createElement("keeper-div"));return t.decline=t.cancel=o.appendChild(createAndAssign("keeper-button",{id:"decline",textContent:translateThis("no_thanks"),plainStyle:!0,style:{}})),t.confirm=t.continue=o.appendChild(createAndAssign("keeper-button",{id:"confirm",textContent:translateThis("Yes"),style:{}})),t.footer=s.appendChild(document.createElement("keeper-div")),e.onclick=e.onmousedown=haltPropagation,e}function l(e){e=i(e),Object.defineProperty(e,"message",{get:n.keeperExtensionSimple.getMessage,set:n.keeperExtensionSimple.setMessage}),Object.defineProperty(e,"error",{get:n.keeperExtensionSimple.getError,set:n.keeperExtensionSimple.setError});var t=e.refs={};return e.appendChild(document.createElement("keeper-header-placeholder")),t.content=e.appendChild(document.createElement("keeper-extension-content")),t.blurb=t.content.appendChild(document.createElement("keeper-div")),t.content.appendChild(document.createElement("keeper-div")),e.onclick=e.onmousedown=haltPropagation,e}},function(e,t,r){"use strict";r.r(t),r.d(t,"keeperIconButton",function(){return n}),r.d(t,"keeperIconButtonEyeball",function(){return s}),r.d(t,"keeperIconButtonAdd",function(){return i}),r.d(t,"keeperIconButtonCC",function(){return o}),r.d(t,"keeperIconButtonDice",function(){return a}),r.d(t,"keeperIconButtonEdit",function(){return d}),r.d(t,"keeperIconButtonFolder",function(){return l}),r.d(t,"keeperIconButtonSharedFolder",function(){return c}),r.d(t,"keeperIconButtonFill",function(){return p}),r.d(t,"keeperIconButtonFind",function(){return u}),r.d(t,"keeperIconButtonHelp",function(){return h}),r.d(t,"keeperIconButtonLock",function(){return f}),r.d(t,"keeperIconButtonLocation",function(){return g}),r.d(t,"keeperIconButtonPerson",function(){return m}),r.d(t,"keeperIconButtonSearch",function(){return y}),r.d(t,"keeperIconButtonFavicon",function(){return k});var n={getDisabled:function(){return this._disabled||!1},setDisabled:function(e){this._disabled=e,this.style.opacity=e?.5:1,this.style.cursor=e?"not-allowed":"pointer"}},s={getMode:function(){return this._mode},setMode:function(e){this._mode=e;var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");r.setAttribute("width","24"),r.setAttribute("height","24"),r.setAttribute("viewBox","0 0 24 24");var n=document.createElementNS(t,"path");"visible"===e?(this.title=null!==this.parentNode&&"KEEPER-RECORD-FIELD-EXTRA"===this.parentNode.nodeName?translateThis("hide_contents"):translateThis("hide_password"),n.setAttribute("d","M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z")):(this.title=null!==this.parentNode&&"KEEPER-RECORD-FIELD-EXTRA"===this.parentNode.nodeName?translateThis("view_contents"):translateThis("view_password"),n.setAttribute("d","M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z")),this.childNodes&&this.childNodes[0]&&this.removeChild(this.childNodes[0]),r.appendChild(n),this.appendChild(r)}},i={},o={},a={},d={},l={},c={},p={},u={},h={},f={},g={},m={},y={},k={}},function(e,t,r){"use strict";r.r(t),r.d(t,"initKeeperPassword",function(){return o}),r.d(t,"initKeeperPasswordLabel",function(){return a}),r.d(t,"initKeeperPasswordOptions",function(){return d}),r.d(t,"initKeeperPasswordStrength",function(){return l});var n=r(3),s=r(5),i=r(10);function o(e){e.generate=n.keeperPassword.generate,Object.defineProperty(e,"placeholder",{get:n.keeperPassword.getPlaceholder,set:n.keeperPassword.setPlaceholder}),Object.defineProperty(e,"readOnly",{get:n.keeperPassword.getReadOnly,set:n.keeperPassword.setReadOnly}),Object.defineProperty(e,"restricted",{get:n.keeperPassword.getRestricted,set:n.keeperPassword.setRestricted}),Object.defineProperty(e,"privacyScreenEnabled",{get:n.keeperPassword.getPrivacyScreenEnabled,set:n.keeperPassword.setPrivacyScreenEnabled}),Object.defineProperty(e,"showPassword",{get:n.keeperPassword.getShowPassword,set:n.keeperPassword.setShowPassword}),Object.defineProperty(e,"value",{get:n.keeperPassword.getValue,set:n.keeperPassword.setValue});var t=getOverlay(),r=t&&t.editMode,o=createInnerKeeperElement("keeper-input");o.oninput=function(){e.value=o.textContent},r&&(o.contentEditable=r,o.style.setProperty("font-family","keepersec","important")),e.appendChild(o),Object(i.afterAppendKeeperInput)(o);var a=createInnerKeeperElement("keeper-iconbutton-eyeball");a.onclick=function(t){if(!1!==t.isTrusted&&!e.disabled){if(r){var n=o.style.fontFamily.includes("keepersec");this.mode=n?"visible":"hidden",n?o.style.setProperty("font-family",""):o.style.setProperty("font-family","keepersec","important")}else e.showPassword=!e.showPassword;updateFrameHeight()}},e.appendChild(a),Object(s.afterAppendKeeperIconButtonEyeball)(a),setTimeout(function(){a.mode=!1},1);var d=createInnerKeeperElement("keeper-iconbutton-dice");d.onclick=function(){v.style.display="",e.generate()},d.addEventListener("animationend",function(){d.classList.remove("keeper-spin3")}),e.appendChild(d),Object(s.afterAppendKeeperIconButtonDice)(d);var l=document.createElement("keeper-password-restriction");l.textContent=translateThis("view_password_restriction"),e.appendChild(l);var c=document.createElement("keeper-password-privacy-screen"),p=document.createElement("div");p.title=translateThis("privacy_screen_prevents_hint").split("\\n").join("\n")||"Privacy Screen prevents both the viewing \nof a password and the modification of a \nwebsite URL after the record has been saved";var u="http://www.w3.org/2000/svg",h=document.createElementNS(u,"svg");h.setAttribute("width","18px"),h.setAttribute("height","18px"),h.setAttribute("viewBox","0 0 24 24");var f=document.createElementNS(u,"path");f.setAttribute("d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"),h.title="help button",p.appendChild(h),h.appendChild(f);var g=document.createElement("p");g.textContent=translateThis("privacy_screen_is_enabled_by_admin")||"Privacy Screen is enabled by the admin";var m=document.createElementNS(u,"svg");m.setAttribute("width","18px"),m.setAttribute("height","18px"),m.setAttribute("viewBox","0 0 24 24");var y=document.createElementNS(u,"path");y.setAttribute("d","M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"),m.appendChild(y),c.appendChild(m),c.appendChild(g),c.appendChild(p),e.appendChild(c),e.appendChild(l);var k=createInnerKeeperElement("keeper-password-strength");e.appendChild(k);var v=createInnerKeeperElement("keeper-password-options");return v.onChange=function(){return e.generate(!0)},v.style.display="none",e.appendChild(v),e.readOnly=!1,o.contentEditable=!1,e}function a(e){Object.defineProperty(e,"label",{get:n.keeperPasswordLabel.getLabel,set:n.keeperPasswordLabel.setLabel}),Object.defineProperty(e,"privacyScreenEnabled",{get:n.keeperPasswordLabel.getPrivacyScreenEnabled,set:n.keeperPasswordLabel.setPrivacyScreenEnabled}),Object.defineProperty(e,"value",{get:n.keeperPasswordLabel.getValue,set:n.keeperPasswordLabel.setValue}),Object.defineProperty(e,"restricted",{get:n.keeperPasswordLabel.getRestricted,set:n.keeperPasswordLabel.setRestricted}),Object.defineProperty(e,"readOnly",{get:n.keeperPasswordLabel.getReadOnly,set:n.keeperPasswordLabel.setReadOnly}),e.tabIndex=1;var t=document.createElement("keeper-div");t.tabIndex=1,e.appendChild(t);var r=createInnerKeeperElement("keeper-password");return r.tabIndex=1,e.appendChild(r),r.showPassword=getOverlay()&&getOverlay().editMode,t.onfocus=function(e){r.querySelector("keeper-input").focus()},e}function d(e){Object.defineProperty(e,"options",{get:n.keeperPasswordOptions.getOptions}),Object.defineProperty(e,"onChange",{get:n.keeperPasswordOptions.getOnChange,set:n.keeperPasswordOptions.setOnChange});var t=getOverlay(),r=t&&t.generatedPasswordComplexity,s=r?r.lc+r.uc+r.numbers+r.special:0,i=r?r.ruleLength>=s?r.ruleLength:s:20,o=document.createElement("keeper-div");o.textContent=translateThis("character_length").replace("XXX",i),e.appendChild(o);var a=createInnerKeeperElement("keeper-slider");a.min=8,a.max=51,a.value=i,a.onChange=function(t){e.onChange(),o.textContent=translateThis("character_length").replace("XXX",t)},e.appendChild(a);var d=document.createElement("keeper-div"),l=createInnerKeeperElement("keeper-checkbox-set");l.label="A-Z",l.checked=!0,l.onChange=function(){return e.onChange()},d.appendChild(l);var c=createInnerKeeperElement("keeper-checkbox-set");c.checked=!0,c.label="0-9",c.onChange=function(){return e.onChange()},d.appendChild(c);var p=createInnerKeeperElement("keeper-checkbox-set");return p.label="Sym",p.checked=!0,p.onChange=function(){return e.onChange()},d.appendChild(p),e.appendChild(d),e}function l(e){return Object.defineProperty(e,"score",{get:n.keeperPasswordStrength.getScore,set:n.keeperPasswordStrength.setScore}),e.appendChild(document.createElement("keeper-div")),e}r(30)},,function(e,t,r){"use strict";r.r(t),r.d(t,"initKeeperButton",function(){return s}),r.d(t,"initKeeperCheckbox",function(){return i}),r.d(t,"initKeeperCheckboxSet",function(){return o});var n=r(7);function s(e){return Object.defineProperty(e,"disabled",{get:n.keeperButton.getDisabled,set:n.keeperButton.setDisabled}),Object.defineProperty(e,"plainStyle",{get:n.keeperButton.getPlainStyle,set:n.keeperButton.setPlainStyle}),e.onmousedown=function(){e.disabled||e.classList.add("keeper-button-active")},e.onmouseup=function(){e.disabled||e.classList.remove("keeper-button-active")},e.onmouseout=function(){e.disabled||e.classList.remove("keeper-button-active")},e}function i(e){return Object.defineProperty(e,"checked",{get:n.keeperCheckbox.getChecked,set:n.keeperCheckbox.setChecked}),Object.defineProperty(e,"onChange",{get:n.keeperCheckbox.getOnChange,set:n.keeperCheckbox.setOnChange}),e.onclick=function(){e.checked=!e.checked,e.onChange&&e.onChange(e.checked)},e.checked=!1,e}function o(e){Object.defineProperty(e,"checked",{get:n.keeperCheckboxSet.getChecked,set:n.keeperCheckboxSet.setChecked}),Object.defineProperty(e,"label",{get:n.keeperCheckboxSet.getLabel,set:n.keeperCheckboxSet.setLabel}),Object.defineProperty(e,"onChange",{get:n.keeperCheckboxSet.getOnChange,set:n.keeperCheckboxSet.setOnChange});var t=createInnerKeeperElement("keeper-checkbox");e.appendChild(t);var r=document.createElement("keeper-div");return r.onclick=function(){e.onChange(t.checked=!t.checked)},e.appendChild(r),e}},function(e,t,r){"use strict";r.r(t),r.d(t,"initKeeperFolderListItem",function(){return s}),r.d(t,"initKeeperFolderList",function(){return i}),r.d(t,"initKeeperFolderAutocomplete",function(){return o});var n=r(13);function s(e){return Object.defineProperty(e,"folder",{get:n.keeperFolderListItem.getFolder,set:n.keeperFolderListItem.setFolder}),e}function i(e){return Object.defineProperty(e,"folders",{get:n.keeperFolderList.getFolders,set:n.keeperFolderList.setFolders}),e}function o(e){return Object.defineProperty(e,"value",{get:n.keeperFolderAutocomplete.getValue,set:n.keeperFolderAutocomplete.setValue}),e.trigger=n.keeperFolderAutocomplete.trigger,e}},function(e,t,r){"use strict";r.r(t),r.d(t,"initKeeperDropdownToggle",function(){return s}),r.d(t,"initKeeperPulldownToggle",function(){return i}),r.d(t,"initKeeperShowMore",function(){return o});var n=r(16);function s(e){return Object.defineProperty(e,"opened",{get:n.keeperDropdownToggle.getOpened,set:n.keeperDropdownToggle.setOpened}),e.opened=!1,e.style.height="24px",e.style.width="24px",e}function i(e){return Object.defineProperty(e,"opened",{get:n.keeperPulldownToggle.getOpened,set:n.keeperPulldownToggle.setOpened}),e.opened=!1,e.style.height="24px",e.style.width="24px",e.style.position="relative",e}function o(e){return Object.defineProperty(e,"opened",{get:n.keeperShowMore.getOpened,set:n.keeperShowMore.setOpened}),e.appendChild(createInnerKeeperElement("keeper-pulldown-toggle")),e.appendChild(document.createElement("keeper-div")),e.opened=!1,e}},function(e,t,r){"use strict";r.r(t),r.d(t,"keeperLink",function(){return n});var n={getHref:function(){return this._href},setHref:function(e){this._href=e}}},function(e,t,r){"use strict";r.r(t),r.d(t,"initKeeperInput",function(){return i}),r.d(t,"initKeeperInputLabel",function(){return o});var n=r(11),s=r(10);function i(e){return e.fitText=n.keeperInput.fitText,Object.defineProperty(e,"placeholder",{get:n.keeperInput.getPlaceholder,set:n.keeperInput.setPlaceholder}),Object.defineProperty(e,"readOnly",{get:n.keeperInput.getReadOnly,set:n.keeperInput.setReadOnly}),Object.defineProperty(e,"value",{get:n.keeperInput.getValue,set:n.keeperInput.setValue}),e.contentEditable=!0,e.onfocus=function(){e.readOnly||e.value||!e.placeholder||(e.textContent=e.value,e.style.color="")},e.onblur=function(){e.readOnly||e.value||!e.placeholder||(e.textContent=e.placeholder,e.style.color="#eee")},e.oninput=function(t){e.value=t.target.textContent,updateFrameHeight()},e}function o(e){Object.defineProperty(e,"label",{get:n.keeperInputLabel.getLabel,set:n.keeperInputLabel.setLabel}),Object.defineProperty(e,"value",{get:n.keeperInputLabel.getValue,set:n.keeperInputLabel.setValue}),e.tabIndex=1;var t=document.createElement("keeper-div");t.tabIndex=1,e.appendChild(t);var r=createInnerKeeperElement("keeper-input");return e.appendChild(r),Object(s.afterAppendKeeperInput)(r),t.onfocus=function(e){r.focus()},e}},,function(e,t,r){"use strict";r.r(t),r.d(t,"initKeeperLink",function(){return s});var n=r(25);function s(e){return Object.defineProperty(e,"href",{get:n.keeperLink.getHref,set:n.keeperLink.setHref}),e.onclick=function(){window.open(e.href)},e}},function(e,t,r){"use strict";r.r(t),r.d(t,"initKeeperSlider",function(){return s});var n=r(12);function s(e){Object.defineProperty(e,"max",{get:n.keeperSlider.getMax,set:n.keeperSlider.setMax}),Object.defineProperty(e,"min",{get:n.keeperSlider.getMin,set:n.keeperSlider.setMin}),Object.defineProperty(e,"value",{get:n.keeperSlider.getValue,set:n.keeperSlider.setValue}),Object.defineProperty(e,"onChange",{get:n.keeperSlider.getOnChange,set:n.keeperSlider.setOnChange});var t=document.createElement("keeper-div");return t.onmousedown=function(e){t._movable=!0,t.style.boxShadow="0 0 5px #333",t._clientX=e.clientX},getFrameDocument().body.onmouseup=function(e){t._movable=!1,t.style.boxShadow=""},e.onmousemove=function(r){if(t._movable){t.style.transform="";var n=t.offsetLeft-(t._clientX-r.clientX);n>=0&&n<=e.offsetWidth-t.offsetWidth&&(t.style.left=n+"px"),t._clientX=r.clientX,e._oldValue!==e.value&&(e._changeHandler(e.value),e._oldValue=e.value)}},e.appendChild(t),e}},function(e,t,r){"use strict";function n(e){}r.r(t),r.d(t,"afterAppendKeeperSlider",function(){return n}),HTMLElement},function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(){function e(){window.innerInitFunctionMap;var e=EventTarget.prototype.addEventListener;function t(e,t){var r=getOverlay(),n=t.currentTarget;if(!t.path){t.path=[];for(var s=t.target;s;)t.path.push(s),s=s.parentElement}var i=t.path.some(function(e){return/keeper/i.test(e.tagName)});if(!0===t.isTrusted){if(i)if(/keeper-lock/i.test(n.tagName)){var o=lock_sanity[n.id];if(n.style.left!==o.left||n.style.top!==o.top)return!1}else if(!/mouse/i.test(t.type)&&r&&(!safariAPI||window.supportsCrossOriginExtensionFrames)&&(r.style.left!==overlay_sanity.left||r.style.top!==overlay_sanity.top))return!1;return e.apply(this,Array.prototype.slice.call(arguments).slice(1))}}EventTarget.prototype.addEventListener=function(r,s){var i=Array.prototype.slice.call(arguments);return i.splice(1,1,t.bind(this,s)),e.call.apply(e,[this].concat(n(i)))},["onclick","onmousedown","onmouseup","onkeypress","onkeydown","onkeyup"].forEach(function(e){var r=Object.getOwnPropertyDescriptor(HTMLElement.prototype,e),n=r.set;Object.defineProperty(HTMLElement.prototype,e,Object.assign(r,{set:function(e){return n.call(this,t.bind(this,e))}}))}),r(32),r(33),r(34),r(5),r(10),r(35),r(36),r(15),r(37),r(30),r(38),r(7),r(0),r(13),r(19),r(11),r(25),r(3),r(1),r(4),r(12),r(16),r(22),r(18),r(23),r(6),r(26),r(28),r(20),r(8),r(17),r(29),r(24),r(39)}safariAPI?window.supportsCrossOriginExtensionFrames&&location.href===safari.extension.baseURI+"content_scripts/prompt.html"?e():window.supportsCrossOriginExtensionFrames||window.inFrame||e():e()}()},function(e,t){HTMLElement,HTMLElement,HTMLElement},function(e,t){HTMLElement},function(e,t,r){"use strict";r.r(t);r(10);HTMLElement,HTMLElement,HTMLElement},function(e,t){HTMLElement},function(e,t){HTMLElement,HTMLElement,HTMLElement,HTMLElement},function(e,t,r){"use strict";function n(e){e.refs={},e.appendChild(createInnerKeeperElement("keeper-iconbutton-add"));var t=e.refs.text=document.createElement("keeper-div");switch(e.appendChild(t),thitemis.parentNode.parentNode.type){default:case"record":e.refs.text.textContent=translateThis("CreateNew");break;case"card":e.refs.text.textContent=translateThis("add_payment_card");break;case"address":e.refs.text.textContent=translateThis("add_address")}}r.r(t),r.d(t,"afterAppendKeeperListitemNew",function(){return n}),HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement,HTMLElement},function(e,t){HTMLElement,HTMLElement,HTMLElement},function(e,t,r){"use strict";r.r(t);var n=r(22),s=r(18),i=r(23),o=r(6),a=r(26),d=r(28),l=r(20),c=r(8),p=r(17),u=r(29),h=r(24),f={"keeper-button":n.initKeeperButton,"keeper-checkbox":n.initKeeperCheckbox,"keeper-checkbox-set":n.initKeeperCheckboxSet,"keeper-themable-popup":s.initKeeperThemablePopup,"keeper-extension":s.initKeeperExtension,"keeper-extension-simple-disabled":s.initKeeperExtensionSimpleDisabled,"keeper-extension-prompt":s.initKeeperExtensionPrompt,"keeper-extension-simple":s.initKeeperExtensionSimple,"keeper-folder-listitem":i.initKeeperFolderListItem,"keeper-folder-list":i.initKeeperFolderList,"keeper-folder-autocomplete":i.initKeeperFolderAutocomplete,"keeper-input":a.initKeeperInput,"keeper-input-label":a.initKeeperInputLabel,"keeper-iconbutton":o.initKeeperIconButton,"keeper-iconbutton-eyeball":o.initKeeperIconButtonEyeball,"keeper-iconbutton-add":o.initKeeperIconButtonAdd,"keeper-iconbutton-cc":o.initKeeperIconButtonCC,"keeper-iconbutton-dice":o.initkeeperIconButtonDice,"keeper-iconbutton-edit":o.initKeeperIconButtonEdit,"keeper-iconbutton-folder":o.initKeeperIconButtonFolder,"keeper-iconbutton-sharedfolder":o.initKeeperIconButtonSharedFolder,"keeper-iconbutton-fill":o.initKeeperIconButtonFill,"keeper-iconbutton-find":o.initKeeperIconButtonFind,"keeper-iconbutton-help":o.initKeeperIconButtonHelp,"keeper-iconbutton-lock":o.initKeeperIconButtonLock,"keeper-iconbutton-location":o.initKeeperIconButtonLocation,"keeper-iconbutton-person":o.initKeeperIconButtonPerson,"keeper-iconbutton-search":o.initKeeperIconButtonSearch,"keeper-favicon":o.initKeeperIconButtonFavicon,"keeper-link":d.initKeeperLink,"keeper-password":l.initKeeperPassword,"keeper-password-label":l.initKeeperPasswordLabel,"keeper-password-options":l.initKeeperPasswordOptions,"keeper-password-strength":l.initKeeperPasswordStrength,"keeper-record":c.initKeeperRecord,"keeper-record-editor":c.initKeeperRecordEditor,"keeper-record-field":c.initKeeperRecordField,"keeper-record-field-totp":c.initKeeperRecordFieldTOTP,"keeper-record-field-extra":c.initKeeperRecordFieldExtra,"keeper-record-field-card":c.initKeeperRecordFieldCard,"keeper-record-field-cvv":c.initKeeperRecordFieldCVV,"keeper-record-field-address":c.initKeeperRecordFieldAddress,"keeper-record-field-login":c.initKeeperRecordFieldLogin,"keeper-record-field-password":c.initKeeperRecordFieldPassword,"keeper-record-simple":c.initKeeperRecordSimple,"keeper-record-selector":c.initKeeperRecordSelector,"keeper-record-chooser":c.initKeeperRecordChooser,"keeper-select":p.initKeeperSelect,"keeper-mode-selector":p.initKeeperModeSelector,"keeper-list":p.initKeeperList,"keeper-listitem":p.initKeeperListitem,"keeper-listitem-new":p.initKeeperListitemNew,"keeper-phone-select":p.initKeeperPhoneSelect,"keeper-slider":u.initKeeperSlider,"keeper-dropdown-toggle":h.initKeeperDropdownToggle,"keeper-pulldown-toggle":h.initKeeperPulldownToggle,"keeper-show-more":h.initKeeperShowMore};window.innerInitFunctionMap=f}]);